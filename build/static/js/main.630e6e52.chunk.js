(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t){e.exports={apiUrl:"http://localhost:4000"}},445:function(e,t,a){e.exports=a.p+"static/media/sidebar-2.310509c9.jpg"},446:function(e,t){e.exports="data:image/png;base64,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"},460:function(e,t,a){e.exports=a(809)},707:function(e,t){},709:function(e,t){},802:function(e,t){},805:function(e,t,a){},806:function(e,t,a){},809:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(36),i=a.n(o),l=a(40),c=a(41),s=a(46),u=a(45),m=a(29),p=a(47),d=a(93),h=a(60),g=a(427),b=(a(465),a(30)),f=a.n(b),x=a(10),v=a(54),E=a(38),w=a.n(E),y=a(851),C=a(852),k=a(853),O=a(873),j=a(875),S=a(238),F=a.n(S),I=a(850),A=a(849),D=a(847),T=a(451),N=a(848),R=a(846),M=a(436),B=a.n(M),G=a(434),P=a.n(G),H=a(236),z=a.n(H),U=a(433),L=a.n(U),W=a(843),V=a(877),Y=a(844),q=a(428),K=a.n(q),Q=a(429),_=a.n(Q),J=a(6),Z=function(e){e=(e+="").replace("#","");if(!/[0-9A-Fa-f]/g.test(e)||3!==e.length&&6!==e.length)throw new Error("input is not a valid hex color.");if(3===e.length){var t=e[0],a=e[1],n=e[2];e=t+t+a+a+n+n}var r=(e=e.toUpperCase(e))[0]+e[1],o=e[2]+e[3],i=e[4]+e[5];return parseInt(r,16)+", "+parseInt(o,16)+", "+parseInt(i,16)},X={transition:"all 0.33s cubic-bezier(0.685, 0.0473, 0.346, 1)"},$={paddingRight:"15px",paddingLeft:"15px",marginRight:"auto",marginLeft:"auto"},ee={fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"300",lineHeight:"1.5em"},te=["#9c27b0","#ab47bc","#8e24aa","#af2cc5"],ae=["#ff9800","#ffa726","#fb8c00","#ffa21a"],ne=["#f44336","#ef5350","#e53935","#f55a4e"],re=["#4caf50","#66bb6a","#43a047","#5cb860"],oe=["#00acc1","#26c6da","#00acc1","#00d3ee"],ie=["#e91e63","#ec407a","#d81b60","#eb3573"],le=["#999","#777","#3C4858","#AAAAAA","#D2D2D2","#DDD","#b4b4b4","#555555","#333","#a9afbb","#eee","#e7e7e7"],ce={boxShadow:"0 10px 30px -12px rgba("+Z("#000")+", 0.42), 0 4px 25px 0px rgba("+Z("#000")+", 0.12), 0 8px 10px -5px rgba("+Z("#000")+", 0.2)"},se={boxShadow:"0 4px 20px 0 rgba("+Z("#000")+",.14), 0 7px 10px -5px rgba("+Z(te[0])+",.4)"},ue={boxShadow:"0 4px 20px 0 rgba("+Z("#000")+",.14), 0 7px 10px -5px rgba("+Z(oe[0])+",.4)"},me={boxShadow:"0 4px 20px 0 rgba("+Z("#000")+",.14), 0 7px 10px -5px rgba("+Z(re[0])+",.4)"},pe={boxShadow:"0 4px 20px 0 rgba("+Z("#000")+",.14), 0 7px 10px -5px rgba("+Z(ae[0])+",.4)"},de={boxShadow:"0 4px 20px 0 rgba("+Z("#000")+",.14), 0 7px 10px -5px rgba("+Z(ne[0])+",.4)"},he={boxShadow:"0 4px 20px 0 rgba("+Z("#000")+",.14), 0 7px 10px -5px rgba("+Z(ie[0])+",.4)"},ge=Object(J.a)({background:"linear-gradient(60deg, "+ae[1]+", "+ae[2]+")"},pe),be=Object(J.a)({background:"linear-gradient(60deg, "+re[1]+", "+re[2]+")"},me),fe=Object(J.a)({background:"linear-gradient(60deg, "+ne[1]+", "+ne[2]+")"},de),xe=Object(J.a)({background:"linear-gradient(60deg, "+oe[1]+", "+oe[2]+")"},ue),ve=Object(J.a)({background:"linear-gradient(60deg, "+te[1]+", "+te[2]+")"},se),Ee=Object(J.a)({background:"linear-gradient(60deg, "+ie[1]+", "+ie[2]+")"},he),we=(Object(J.a)({margin:"0 20px 10px",paddingTop:"10px",borderTop:"1px solid "+le[10],height:"auto"},ee),Z("#000"),Z("#000"),{border:"0",borderRadius:"3px",boxShadow:"0 10px 20px -12px rgba("+Z("#000")+", 0.42), 0 3px 20px 0px rgba("+Z("#000")+", 0.12), 0 8px 10px -5px rgba("+Z("#000")+", 0.2)",padding:"10px 0",transition:"all 150ms ease 0s"}),ye={color:le[2],textDecoration:"none",fontWeight:"300",marginTop:"30px",marginBottom:"25px",minHeight:"32px",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif","& small":{color:le[1],fontWeight:"400",lineHeight:"1"}},Ce=(Object(J.a)({},ye,{marginTop:"0",marginBottom:"3px",minHeight:"auto","& a":Object(J.a)({},ye,{marginTop:".625rem",marginBottom:"0.75rem",minHeight:"auto"})}),{disabled:{"&:before":{backgroundColor:"transparent !important"}},underline:{"&:hover:not($disabled):before,&:before":{borderColor:le[4]+" !important",borderWidth:"1px !important"},"&:after":{borderColor:te[0]}},underlineError:{"&:after":{borderColor:ne[0]}},underlineSuccess:{"&:after":{borderColor:re[0]}},labelRoot:Object(J.a)({},ee,{color:le[3]+" !important",fontWeight:"400",fontSize:"14px",lineHeight:"1.42857"}),labelRootError:{color:ne[0]},labelRootSuccess:{color:re[0]},feedback:{position:"absolute",top:"18px",right:"0",zIndex:"2",display:"block",width:"24px",height:"24px",textAlign:"center",pointerEvents:"none"},marginTop:{marginTop:"16px"},formControl:{paddingBottom:"10px",margin:"27px 0 0 0",position:"relative",verticalAlign:"unset"}});var ke=f()(Ce)(function(e){var t,a,n=Object(v.a)({},e),o=n.classes,i=n.formControlProps,l=n.labelText,c=n.id,s=n.labelProps,u=n.inputProps,m=n.error,p=n.success,d=w()((t={},Object(x.a)(t," "+o.labelRootError,m),Object(x.a)(t," "+o.labelRootSuccess,p&&!m),t)),h=w()((a={},Object(x.a)(a,o.underlineError,m),Object(x.a)(a,o.underlineSuccess,p&&!m),Object(x.a)(a,o.underline,!0),a)),g=w()(Object(x.a)({},o.marginTop,void 0===l));return r.a.createElement(W.a,Object.assign({},i,{className:i.className+" "+o.formControl}),void 0!==l?r.a.createElement(V.a,Object.assign({className:o.labelRoot+d,htmlFor:c},s),l):null,r.a.createElement(Y.a,Object.assign({classes:{root:g,disabled:o.disabled,underline:h},id:c},u)),m?r.a.createElement(K.a,{className:o.feedback+" "+o.labelRootError}):p?r.a.createElement(_.a,{className:o.feedback+" "+o.labelRootSuccess}):null)}),Oe=a(845),je={button:{minHeight:"auto",minWidth:"auto",backgroundColor:le[0],color:"#FFF",boxShadow:"0 2px 2px 0 rgba("+Z(le[0])+", 0.14), 0 3px 1px -2px rgba("+Z(le[0])+", 0.2), 0 1px 5px 0 rgba("+Z(le[0])+", 0.12)",border:"none",borderRadius:"3px",position:"relative",padding:"12px 30px",margin:".3125rem 1px",fontSize:"12px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0",willChange:"box-shadow, transform",transition:"box-shadow 0.2s cubic-bezier(0.4, 0, 1, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1)",lineHeight:"1.42857143",textAlign:"center",whiteSpace:"nowrap",verticalAlign:"middle",touchAction:"manipulation",cursor:"pointer","&:hover,&:focus":{color:"#FFF",backgroundColor:le[0],boxShadow:"0 14px 26px -12px rgba("+Z(le[0])+", 0.42), 0 4px 23px 0px rgba("+Z("#000")+", 0.12), 0 8px 10px -5px rgba("+Z(le[0])+", 0.2)"},"& .fab,& .fas,& .far,& .fal, &.material-icons":{position:"relative",display:"inline-block",top:"0",marginTop:"-1em",marginBottom:"-1em",fontSize:"1.1rem",marginRight:"4px",verticalAlign:"middle"},"& svg":{position:"relative",display:"inline-block",top:"0",width:"18px",height:"18px",marginRight:"4px",verticalAlign:"middle"},"&$justIcon":{"& .fab,& .fas,& .far,& .fal,& .material-icons":{marginTop:"0px",position:"absolute",width:"100%",transform:"none",left:"0px",top:"0px",height:"100%",lineHeight:"41px",fontSize:"20px"}}},white:{"&,&:focus,&:hover":{backgroundColor:"#FFF",color:le[0]}},rose:{backgroundColor:ie[0],boxShadow:"0 2px 2px 0 rgba("+Z(ie[0])+", 0.14), 0 3px 1px -2px rgba("+Z(ie[0])+", 0.2), 0 1px 5px 0 rgba("+Z(ie[0])+", 0.12)","&:hover,&:focus":{backgroundColor:ie[0],boxShadow:"0 14px 26px -12px rgba("+Z(ie[0])+", 0.42), 0 4px 23px 0px rgba("+Z("#000")+", 0.12), 0 8px 10px -5px rgba("+Z(ie[0])+", 0.2)"}},primary:{backgroundColor:te[0],boxShadow:"0 2px 2px 0 rgba("+Z(te[0])+", 0.14), 0 3px 1px -2px rgba("+Z(te[0])+", 0.2), 0 1px 5px 0 rgba("+Z(te[0])+", 0.12)","&:hover,&:focus":{backgroundColor:te[0],boxShadow:"0 14px 26px -12px rgba("+Z(te[0])+", 0.42), 0 4px 23px 0px rgba("+Z("#000")+", 0.12), 0 8px 10px -5px rgba("+Z(te[0])+", 0.2)"}},info:{backgroundColor:oe[0],boxShadow:"0 2px 2px 0 rgba("+Z(oe[0])+", 0.14), 0 3px 1px -2px rgba("+Z(oe[0])+", 0.2), 0 1px 5px 0 rgba("+Z(oe[0])+", 0.12)","&:hover,&:focus":{backgroundColor:oe[0],boxShadow:"0 14px 26px -12px rgba("+Z(oe[0])+", 0.42), 0 4px 23px 0px rgba("+Z("#000")+", 0.12), 0 8px 10px -5px rgba("+Z(oe[0])+", 0.2)"}},success:{backgroundColor:re[0],boxShadow:"0 2px 2px 0 rgba("+Z(re[0])+", 0.14), 0 3px 1px -2px rgba("+Z(re[0])+", 0.2), 0 1px 5px 0 rgba("+Z(re[0])+", 0.12)","&:hover,&:focus":{backgroundColor:re[0],boxShadow:"0 14px 26px -12px rgba("+Z(re[0])+", 0.42), 0 4px 23px 0px rgba("+Z("#000")+", 0.12), 0 8px 10px -5px rgba("+Z(re[0])+", 0.2)"}},warning:{backgroundColor:ae[0],boxShadow:"0 2px 2px 0 rgba("+Z(ae[0])+", 0.14), 0 3px 1px -2px rgba("+Z(ae[0])+", 0.2), 0 1px 5px 0 rgba("+Z(ae[0])+", 0.12)","&:hover,&:focus":{backgroundColor:ae[0],boxShadow:"0 14px 26px -12px rgba("+Z(ae[0])+", 0.42), 0 4px 23px 0px rgba("+Z("#000")+", 0.12), 0 8px 10px -5px rgba("+Z(ae[0])+", 0.2)"}},danger:{backgroundColor:ne[0],boxShadow:"0 2px 2px 0 rgba("+Z(ne[0])+", 0.14), 0 3px 1px -2px rgba("+Z(ne[0])+", 0.2), 0 1px 5px 0 rgba("+Z(ne[0])+", 0.12)","&:hover,&:focus":{backgroundColor:ne[0],boxShadow:"0 14px 26px -12px rgba("+Z(ne[0])+", 0.42), 0 4px 23px 0px rgba("+Z("#000")+", 0.12), 0 8px 10px -5px rgba("+Z(ne[0])+", 0.2)"}},simple:{"&,&:focus,&:hover":{color:"#FFF",background:"transparent",boxShadow:"none"},"&$rose":{"&,&:focus,&:hover,&:visited":{color:ie[0]}},"&$primary":{"&,&:focus,&:hover,&:visited":{color:te[0]}},"&$info":{"&,&:focus,&:hover,&:visited":{color:oe[0]}},"&$success":{"&,&:focus,&:hover,&:visited":{color:re[0]}},"&$warning":{"&,&:focus,&:hover,&:visited":{color:ae[0]}},"&$danger":{"&,&:focus,&:hover,&:visited":{color:ne[0]}}},transparent:{"&,&:focus,&:hover":{color:"inherit",background:"transparent",boxShadow:"none"}},disabled:{opacity:"0.65",pointerEvents:"none"},lg:{padding:"1.125rem 2.25rem",fontSize:"0.875rem",lineHeight:"1.333333",borderRadius:"0.2rem"},sm:{padding:"0.40625rem 1.25rem",fontSize:"0.6875rem",lineHeight:"1.5",borderRadius:"0.2rem"},round:{borderRadius:"30px"},block:{width:"100% !important"},link:{"&,&:hover,&:focus":{backgroundColor:"transparent",color:le[0],boxShadow:"none"}},justIcon:{paddingLeft:"12px",paddingRight:"12px",fontSize:"20px",height:"41px",minWidth:"41px",width:"41px","& .fab,& .fas,& .far,& .fal,& svg,& .material-icons":{marginRight:"0px"},"&$lg":{height:"57px",minWidth:"57px",width:"57px",lineHeight:"56px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"32px",lineHeight:"56px"},"& svg":{width:"32px",height:"32px"}},"&$sm":{height:"30px",minWidth:"30px",width:"30px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"17px",lineHeight:"29px"},"& svg":{width:"17px",height:"17px"}}}};var Se=f()(je)(function(e){var t,a=Object(v.a)({},e),n=a.classes,o=a.color,i=a.round,l=a.children,c=a.disabled,s=a.simple,u=a.size,m=a.block,p=a.link,d=a.justIcon,g=a.className,b=a.muiClasses,f=Object(h.a)(a,["classes","color","round","children","disabled","simple","size","block","link","justIcon","className","muiClasses"]),E=w()((t={},Object(x.a)(t,n.button,!0),Object(x.a)(t,n[u],u),Object(x.a)(t,n[o],o),Object(x.a)(t,n.round,i),Object(x.a)(t,n.disabled,c),Object(x.a)(t,n.simple,s),Object(x.a)(t,n.block,m),Object(x.a)(t,n.link,p),Object(x.a)(t,n.justIcon,d),Object(x.a)(t,g,g),t));return r.a.createElement(Oe.a,Object.assign({},f,{classes:b,className:E}),l)}),Fe=function(e){return{buttonLink:Object(x.a)({},e.breakpoints.down("md"),{display:"flex",marginLeft:"30px",width:"auto"}),links:Object(x.a)({width:"20px",height:"20px",zIndex:"4"},e.breakpoints.down("md"),{display:"block",width:"30px",height:"30px",color:le[9],marginRight:"15px"}),linkText:Object(J.a)({zIndex:"4"},ee,{fontSize:"14px"}),popperClose:{pointerEvents:"none"},pooperResponsive:Object(x.a)({},e.breakpoints.down("md"),{zIndex:"1640",position:"static",float:"none",width:"auto",marginTop:"0",backgroundColor:"transparent",border:"0",WebkitBoxShadow:"none",boxShadow:"none",color:"black"}),pooperNav:Object(x.a)({},e.breakpoints.down("sm"),{position:"static !important",left:"unset !important",top:"unset !important",transform:"none !important",willChange:"none !important","& > div":{boxShadow:"none !important",marginLeft:"0rem",marginRight:"0rem",transition:"none !important",marginTop:"0px !important",marginBottom:"0px !important",padding:"0px !important",backgroundColor:"transparent !important","& ul li":{color:"#FFF !important",margin:"10px 15px 0!important",padding:"10px 15px !important","&:hover":{backgroundColor:"hsla(0,0%,78%,.2)",boxShadow:"none"}}}}),dropdown:{borderRadius:"3px",border:"0",boxShadow:"0 2px 5px 0 rgba("+Z("#000")+", 0.26)",top:"100%",zIndex:"1000",minWidth:"160px",padding:"5px 0",margin:"2px 0 0",fontSize:"14px",textAlign:"left",listStyle:"none",backgroundColor:"#FFF",WebkitBackgroundClip:"padding-box",backgroundClip:"padding-box"},dropdownItem:Object(J.a)({},ee,{fontSize:"13px",padding:"10px 20px",margin:"0 5px",borderRadius:"2px",WebkitTransition:"all 150ms linear",MozTransition:"all 150ms linear",OTransition:"all 150ms linear",MsTransition:"all 150ms linear",transition:"all 150ms linear",display:"block",clear:"both",fontWeight:"400",lineHeight:"1.42857143",color:le[8],whiteSpace:"nowrap",height:"unset","&:hover":Object(J.a)({backgroundColor:te[0],color:"#FFF"},se)})}},Ie=function(e){var t,a,n;return Object(J.a)({},Fe(e),{search:Object(x.a)({"& > div":{marginTop:"0"}},e.breakpoints.down("sm"),{margin:"10px 15px !important",float:"none !important",paddingTop:"1px",paddingBottom:"1px",padding:"0!important",width:"60%",marginTop:"40px","& input":{color:"#FFF"}}),linkText:Object(J.a)({zIndex:"4"},ee,{fontSize:"14px",margin:"0px"}),buttonLink:Object(x.a)({},e.breakpoints.down("sm"),{display:"flex",margin:"10px 15px 0",width:"-webkit-fill-available","& svg":{width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"24px",lineHeight:"30px",width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& > span":{justifyContent:"flex-start",width:"100%"}}),searchButton:Object(x.a)({},e.breakpoints.down("sm"),{top:"-50px !important",marginRight:"22px",float:"right"}),margin:{zIndex:"4",margin:"0"},searchIcon:{width:"17px",zIndex:"4"},notifications:(t={zIndex:"4"},Object(x.a)(t,e.breakpoints.up("md"),{position:"absolute",top:"2px",border:"1px solid #FFF",right:"4px",fontSize:"9px",background:ne[0],color:"#FFF",minWidth:"16px",height:"16px",borderRadius:"10px",textAlign:"center",lineHeight:"16px",verticalAlign:"middle",display:"block"}),Object(x.a)(t,e.breakpoints.down("sm"),Object(J.a)({},ee,{fontSize:"14px",marginRight:"8px"})),t),manager:(a={},Object(x.a)(a,e.breakpoints.down("sm"),{width:"100%"}),Object(x.a)(a,"display","inline-block"),a),searchWrapper:(n={},Object(x.a)(n,e.breakpoints.down("sm"),{width:"-webkit-fill-available",margin:"10px 15px 0"}),Object(x.a)(n,"display","inline-block"),n)})},Ae=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleToggle=function(){a.setState(function(e){return{open:!e.open}})},a.handleClose=function(e){a.anchorEl.contains(e.target)||a.setState({open:!1})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.open;return r.a.createElement("div",null,r.a.createElement("div",{className:t.searchWrapper},r.a.createElement(ke,{formControlProps:{className:t.margin+" "+t.search},inputProps:{placeholder:"Search",inputProps:{"aria-label":"Search"}}}),r.a.createElement(Se,{color:"white","aria-label":"edit",justIcon:!0,round:!0},r.a.createElement(L.a,null))),r.a.createElement(Se,{color:window.innerWidth>959?"transparent":"white",justIcon:window.innerWidth>959,simple:!(window.innerWidth>959),"aria-label":"Dashboard",className:t.buttonLink},r.a.createElement(z.a,{className:t.icons}),r.a.createElement(O.a,{mdUp:!0,implementation:"css"},r.a.createElement("p",{className:t.linkText},"Dashboard"))),r.a.createElement("div",{className:t.manager},r.a.createElement(Se,{buttonRef:function(t){e.anchorEl=t},color:window.innerWidth>959?"transparent":"white",justIcon:window.innerWidth>959,simple:!(window.innerWidth>959),"aria-owns":a?"menu-list-grow":null,"aria-haspopup":"true",onClick:this.handleToggle,className:t.buttonLink},r.a.createElement(P.a,{className:t.icons}),r.a.createElement("span",{className:t.notifications},"5"),r.a.createElement(O.a,{mdUp:!0,implementation:"css"},r.a.createElement("p",{onClick:this.handleClick,className:t.linkText},"Notification"))),r.a.createElement(R.a,{open:a,anchorEl:this.anchorEl,transition:!0,disablePortal:!0,className:w()(Object(x.a)({},t.popperClose,!a))+" "+t.pooperNav},function(a){var n=a.TransitionProps,o=a.placement;return r.a.createElement(D.a,Object.assign({},n,{id:"menu-list-grow",style:{transformOrigin:"bottom"===o?"center top":"center bottom"}}),r.a.createElement(T.a,null,r.a.createElement(N.a,{onClickAway:e.handleClose},r.a.createElement(A.a,{role:"menu"},r.a.createElement(I.a,{onClick:e.handleClose,className:t.dropdownItem},"Mike John responded to your email"),r.a.createElement(I.a,{onClick:e.handleClose,className:t.dropdownItem},"You have 5 new tasks"),r.a.createElement(I.a,{onClick:e.handleClose,className:t.dropdownItem},"You're now friend with Andrew"),r.a.createElement(I.a,{onClick:e.handleClose,className:t.dropdownItem},"Another Notification"),r.a.createElement(I.a,{onClick:e.handleClose,className:t.dropdownItem},"Another One")))))})),r.a.createElement(Se,{color:window.innerWidth>959?"transparent":"white",justIcon:window.innerWidth>959,simple:!(window.innerWidth>959),"aria-label":"Person",className:t.buttonLink},r.a.createElement(B.a,{className:t.icons}),r.a.createElement(O.a,{mdUp:!0,implementation:"css"},r.a.createElement("p",{className:t.linkText},"Profile"))))}}]),t}(r.a.Component),De=f()(Ie)(Ae),Te=function(e){return{appBar:{backgroundColor:"transparent",boxShadow:"none",borderBottom:"0",marginBottom:"0",position:"absolute",width:"100%",paddingTop:"10px",zIndex:"1029",color:le[7],border:"0",borderRadius:"3px",padding:"10px 0",transition:"all 150ms ease 0s",minHeight:"50px",display:"block"},container:Object(J.a)({},$,{minHeight:"50px"}),flex:{flex:1},title:Object(J.a)({},ee,{lineHeight:"30px",fontSize:"18px",borderRadius:"3px",textTransform:"none",color:"inherit",margin:"0","&:hover,&:focus":{background:"transparent"}}),appResponsive:{top:"8px"},primary:Object(J.a)({backgroundColor:te[0],color:"#FFF"},we),info:Object(J.a)({backgroundColor:oe[0],color:"#FFF"},we),success:Object(J.a)({backgroundColor:re[0],color:"#FFF"},we),warning:Object(J.a)({backgroundColor:ae[0],color:"#FFF"},we),danger:Object(J.a)({backgroundColor:ne[0],color:"#FFF"},we)}},Ne=f()(Te)(function(e){var t=Object(v.a)({},e);var a=t.classes,n=t.color,o=t.handleLogout,i=w()(Object(x.a)({}," "+a[n],n));return r.a.createElement(y.a,{className:a.appBar+i},r.a.createElement(C.a,{className:a.container},r.a.createElement("div",{className:a.flex,style:{display:"inline-flex"}},r.a.createElement("span",{className:a.title,style:{flex:0}},function(){var e;return t.routes.map(function(a,n){return a.path===t.location.pathname&&(e=a.name),null}),e}()),r.a.createElement("span",{style:{flex:1}}),r.a.createElement("span",null,r.a.createElement(k.a,{color:"inherit","aria-label":"logout",onClick:o},r.a.createElement(j.a,{style:{fontSize:"2.5rem"}})))),r.a.createElement(O.a,{smDown:!0,implementation:"css"}),r.a.createElement(O.a,{mdUp:!0,implementation:"css"},r.a.createElement(k.a,{color:"inherit","aria-label":"open drawer",onClick:t.handleDrawerToggle},r.a.createElement(F.a,null)))))}),Re=a(166),Me=a(876),Be=a(811),Ge=a(812),Pe=a(855),He=a(854),ze=function(e){var t,a;return{drawerPaper:Object(J.a)({border:"none",position:"fixed",top:"0",bottom:"0",left:"0",zIndex:"1"},ce,(t={width:260},Object(x.a)(t,e.breakpoints.up("md"),{width:260,position:"fixed",height:"100%"}),Object(x.a)(t,e.breakpoints.down("sm"),Object(J.a)({width:260},ce,{position:"fixed",display:"block",top:"0",height:"100vh",right:"0",left:"auto",zIndex:"1032",visibility:"visible",overflowY:"visible",borderTop:"none",textAlign:"left",paddingRight:"0px",paddingLeft:"0",transform:"translate3d(".concat(260,"px, 0, 0)")},X)),t)),drawerPaperRTL:(a={},Object(x.a)(a,e.breakpoints.up("md"),{left:"auto !important",right:"0 !important"}),Object(x.a)(a,e.breakpoints.down("sm"),{left:"0  !important",right:"auto !important"}),a),logo:{position:"relative",padding:"15px 15px",zIndex:"4","&:after":{content:'""',position:"absolute",bottom:"0",height:"1px",right:"15px",width:"calc(100% - 30px)",backgroundColor:"rgba("+Z(le[6])+", 0.3)"}},logoLink:Object(J.a)({},ee,{textTransform:"uppercase",padding:"5px 0",display:"block",fontSize:"18px",textAlign:"left",fontWeight:"400",lineHeight:"30px",textDecoration:"none",backgroundColor:"transparent","&,&:hover":{color:"#FFF"}}),logoLinkRTL:{textAlign:"right"},logoImage:{width:"30px",display:"inline-block",maxHeight:"30px",marginLeft:"10px",marginRight:"15px"},img:{width:"35px",top:"22px",position:"absolute",verticalAlign:"middle",border:"0"},background:{position:"absolute",zIndex:"1",height:"100%",width:"100%",display:"block",top:"0",left:"0",backgroundSize:"cover",backgroundPosition:"center center","&:after":{position:"absolute",zIndex:"3",width:"100%",height:"100%",content:'""',display:"block",background:"#000",opacity:".8"}},list:{marginTop:"20px",paddingLeft:"0",paddingTop:"0",paddingBottom:"0",marginBottom:"0",listStyle:"none",position:"unset"},item:{position:"relative",display:"block",textDecoration:"none","&:hover,&:focus,&:visited,&":{color:"#FFF"}},itemLink:Object(J.a)({width:"auto",transition:"all 300ms linear",margin:"10px 15px 0",borderRadius:"3px",position:"relative",display:"block",padding:"10px 15px",backgroundColor:"transparent"},ee),itemIcon:{width:"24px",height:"30px",fontSize:"24px",lineHeight:"30px",float:"left",marginRight:"15px",textAlign:"center",verticalAlign:"middle",color:"rgba("+Z("#FFF")+", 0.8)"},itemIconRTL:{marginRight:"3px",marginLeft:"15px",float:"right"},itemText:Object(J.a)({},ee,{margin:"0",lineHeight:"30px",fontSize:"14px",color:"#FFF"}),itemTextRTL:{textAlign:"right"},whiteFont:{color:"#FFF"},purple:Object(J.a)({backgroundColor:te[0]},se,{"&:hover":Object(J.a)({backgroundColor:te[0]},se)}),blue:{backgroundColor:oe[0],boxShadow:"0 12px 20px -10px rgba("+Z(oe[0])+",.28), 0 4px 20px 0 rgba("+Z("#000")+",.12), 0 7px 8px -5px rgba("+Z(oe[0])+",.2)","&:hover":{backgroundColor:oe[0],boxShadow:"0 12px 20px -10px rgba("+Z(oe[0])+",.28), 0 4px 20px 0 rgba("+Z("#000")+",.12), 0 7px 8px -5px rgba("+Z(oe[0])+",.2)"}},green:{backgroundColor:re[0],boxShadow:"0 12px 20px -10px rgba("+Z(re[0])+",.28), 0 4px 20px 0 rgba("+Z("#000")+",.12), 0 7px 8px -5px rgba("+Z(re[0])+",.2)","&:hover":{backgroundColor:re[0],boxShadow:"0 12px 20px -10px rgba("+Z(re[0])+",.28), 0 4px 20px 0 rgba("+Z("#000")+",.12), 0 7px 8px -5px rgba("+Z(re[0])+",.2)"}},orange:{backgroundColor:ae[0],boxShadow:"0 12px 20px -10px rgba("+Z(ae[0])+",.28), 0 4px 20px 0 rgba("+Z("#000")+",.12), 0 7px 8px -5px rgba("+Z(ae[0])+",.2)","&:hover":{backgroundColor:ae[0],boxShadow:"0 12px 20px -10px rgba("+Z(ae[0])+",.28), 0 4px 20px 0 rgba("+Z("#000")+",.12), 0 7px 8px -5px rgba("+Z(ae[0])+",.2)"}},red:{backgroundColor:ne[0],boxShadow:"0 12px 20px -10px rgba("+Z(ne[0])+",.28), 0 4px 20px 0 rgba("+Z("#000")+",.12), 0 7px 8px -5px rgba("+Z(ne[0])+",.2)","&:hover":{backgroundColor:ne[0],boxShadow:"0 12px 20px -10px rgba("+Z(ne[0])+",.28), 0 4px 20px 0 rgba("+Z("#000")+",.12), 0 7px 8px -5px rgba("+Z(ne[0])+",.2)"}},sidebarWrapper:{position:"relative",height:"calc(100vh - 75px)",overflow:"auto",width:"260px",zIndex:"4",overflowScrolling:"touch"},activePro:Object(x.a)({},e.breakpoints.up("md"),{position:"absolute",width:"100%",bottom:"13px"})}},Ue=f()(ze)(function(e){var t=Object(v.a)({},e),a=function(e){return t.location.pathname.indexOf(e)>-1},n=t.classes,o=t.color,i=(t.logo,t.image),l=t.logoText,c=t.routes,s=r.a.createElement(Be.a,{className:n.list},c.map(function(e,t){var i;i=w()(Object(x.a)({}," "+n[o],a(e.path)));var l=w()(Object(x.a)({}," "+n.whiteFont,a(e.path)));return r.a.createElement(Re.b,{to:e.path,className:" "+n.item,activeClassName:"active",key:t},r.a.createElement(Ge.a,{button:!0,className:n.itemLink+i},"string"===typeof e.icon?r.a.createElement(He.a,{className:w()(n.itemIcon,l)},e.icon):r.a.createElement(e.icon,{className:w()(n.itemIcon,l)}),r.a.createElement(Pe.a,{primary:e.name,className:w()(n.itemText,l),disableTypography:!0})))})),u=r.a.createElement("div",{className:n.logo},r.a.createElement("div",{href:"/dashboard",className:w()(n.logoLink)},l));return r.a.createElement("div",null,r.a.createElement(O.a,{mdUp:!0,implementation:"css"},r.a.createElement(Me.a,{variant:"temporary",anchor:"right",open:t.open,classes:{paper:w()(n.drawerPaper)},onClose:t.handleDrawerToggle,ModalProps:{keepMounted:!0}},u,r.a.createElement("div",{className:n.sidebarWrapper},r.a.createElement(De,null),"}",s),void 0!==i?r.a.createElement("div",{className:n.background,style:{backgroundImage:"url("+i+")"}}):null)),r.a.createElement(O.a,{smDown:!0,implementation:"css"},r.a.createElement(Me.a,{anchor:t.rtlActive?"right":"left",variant:"permanent",open:!0,classes:{paper:w()(n.drawerPaper)}},u,r.a.createElement("div",{className:n.sidebarWrapper},s),void 0!==i?r.a.createElement("div",{className:n.background,style:{backgroundImage:"url("+i+")"}}):null)))}),Le={block:Object(J.a)({color:"inherit",padding:"15px",textTransform:"uppercase",borderRadius:"3px",textDecoration:"none",position:"relative",display:"block"},ee,{fontWeight:"500",fontSize:"12px"}),left:{float:"left!important",display:"block"},right:{padding:"15px 0",margin:"0",fontSize:"14px",float:"right!important"},footer:Object(J.a)({bottom:"0",borderTop:"1px solid "+le[11],padding:"15px 0"},ee),container:$,a:{color:te,textDecoration:"none",backgroundColor:"transparent"},list:{marginBottom:"0",padding:"0",marginTop:"0"},inlineBlock:{display:"inline-block",padding:"0px",width:"auto"}};f()(Le)(function(e){var t=Object(v.a)({},e).classes;return r.a.createElement("footer",{className:t.footer},r.a.createElement("div",{className:t.container},r.a.createElement("div",{className:t.left},r.a.createElement(Be.a,{className:t.list},r.a.createElement(Ge.a,{className:t.inlineBlock},r.a.createElement("a",{href:"#home",className:t.block},"Home")),r.a.createElement(Ge.a,{className:t.inlineBlock},r.a.createElement("a",{href:"#company",className:t.block},"Company")),r.a.createElement(Ge.a,{className:t.inlineBlock},r.a.createElement("a",{href:"#portfolio",className:t.block},"Portfolio")),r.a.createElement(Ge.a,{className:t.inlineBlock},r.a.createElement("a",{href:"#blog",className:t.block},"Blog")))),r.a.createElement("p",{className:t.right},r.a.createElement("span",null,"\xa9 ",1900+(new Date).getYear()," ",r.a.createElement("a",{href:"https://www.creative-tim.com",className:t.a},"Creative Tim"),", made with love for a better web"))))});var We=a(171),Ve=a.n(We),Ye=function(e){return r.a.createElement("div",null)},qe=a(18),Ke=a.n(qe),Qe=a(450),_e=a(42),Je=a(35),Ze=a(39),Xe=a.n(Ze),$e=a(63),et=a.n($e),tt=a(106),at=a(856),nt=a(857),rt=a(858),ot=a(860),it=a(859),lt=function(e){return{warningTableHeader:{color:ae[0]},primaryTableHeader:{color:te[0]},dangerTableHeader:{color:ne[0]},successTableHeader:{color:re[0]},infoTableHeader:{color:oe[0]},roseTableHeader:{color:ie[0]},grayTableHeader:{color:le[0]},table:{marginBottom:"0",width:"100%",maxWidth:"100%",backgroundColor:"transparent",borderSpacing:"0",borderCollapse:"collapse"},tableHeadCell:Object(J.a)({color:"inherit"},ee,{fontSize:"1.5em"}),tableCell:Object(J.a)({},ee,{lineHeight:"1.42857143",padding:"12px 8px",verticalAlign:"middle",fontSize:"1.5em"}),tableResponsive:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"}}};function ct(e){var t=Object(v.a)({},e),a=t.classes,n=t.tableHead,o=t.tableData,i=t.tableHeaderColor;return r.a.createElement("div",{className:a.tableResponsive},r.a.createElement(at.a,{className:a.table},void 0!==n?r.a.createElement(nt.a,{className:a[i+"TableHeader"]},r.a.createElement(rt.a,null,n.map(function(e,t){return r.a.createElement(it.a,{className:a.tableCell+" "+a.tableHeadCell,key:t},e)}))):null,r.a.createElement(ot.a,null,o.map(function(e,t){return r.a.createElement(rt.a,{key:t},e.map(function(e,t){return r.a.createElement(it.a,{className:a.tableCell,key:t},e)}))}))))}ct.defaultProps={tableHeaderColor:"gray"};var st=f()(lt)(ct),ut=a(861);var mt=f()({grid:{margin:"0 -15px !important",width:"unset"}})(function(e){var t=e.classes,a=e.children,n=Object(h.a)(e,["classes","children"]);return r.a.createElement(ut.a,Object.assign({container:!0},n,{className:t.grid}),a)});var pt=f()({grid:{padding:"0 15px !important"}})(function(e){var t=Object(v.a)({},e),a=t.classes,n=t.children,o=Object(h.a)(t,["classes","children"]);return r.a.createElement(ut.a,Object.assign({item:!0},o,{className:a.grid}),n)}),dt={card:{border:"0",marginBottom:"30px",marginTop:"30px",borderRadius:"6px",color:"rgba("+Z("#000")+", 0.87)",background:"#FFF",width:"100%",boxShadow:"0 1px 4px 0 rgba("+Z("#000")+", 0.14)",position:"relative",display:"flex",flexDirection:"column",minWidth:"0",wordWrap:"break-word",fontSize:".875rem"},cardPlain:{background:"transparent",boxShadow:"none"},cardProfile:{marginTop:"30px",textAlign:"center"},cardChart:{"& p":{marginTop:"0px",paddingTop:"0px"}}};var ht=f()(dt)(function(e){var t,a=Object(v.a)({},e),n=a.classes,o=a.className,i=a.children,l=a.plain,c=a.profile,s=a.chart,u=Object(h.a)(a,["classes","className","children","plain","profile","chart"]),m=w()((t={},Object(x.a)(t,n.card,!0),Object(x.a)(t,n.cardPlain,l),Object(x.a)(t,n.cardProfile,c),Object(x.a)(t,n.cardChart,s),Object(x.a)(t,o,void 0!==o),t));return r.a.createElement("div",Object.assign({className:m},u),i)}),gt={cardHeader:{padding:"0.75rem 1.25rem",marginBottom:"0",borderBottom:"none",background:"transparent",zIndex:"3 !important","&$cardHeaderPlain,&$cardHeaderIcon,&$cardHeaderStats,&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{margin:"0 15px",padding:"0",position:"relative",color:"#FFF"},"&:first-child":{borderRadius:"calc(.25rem - 1px) calc(.25rem - 1px) 0 0"},"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{"&:not($cardHeaderIcon)":{borderRadius:"3px",marginTop:"-20px",padding:"15px"}},"&$cardHeaderStats svg":{fontSize:"36px",lineHeight:"56px",textAlign:"center",width:"36px",height:"36px",margin:"10px 10px 4px"},"&$cardHeaderStats i,&$cardHeaderStats .material-icons":{fontSize:"36px",lineHeight:"56px",width:"56px",height:"56px",textAlign:"center",overflow:"unset",marginBottom:"1px"},"&$cardHeaderStats$cardHeaderIcon":{textAlign:"right"}},cardHeaderPlain:{marginLeft:"0px !important",marginRight:"0px !important"},cardHeaderStats:{"& $cardHeaderIcon":{textAlign:"right"},"& h1,& h2,& h3,& h4,& h5,& h6":{margin:"0 !important"}},cardHeaderIcon:{"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{background:"transparent",boxShadow:"none"},"& i,& .material-icons":{width:"33px",height:"33px",textAlign:"center",lineHeight:"33px"},"& svg":{width:"24px",height:"24px",textAlign:"center",lineHeight:"33px",margin:"5px 4px 0px"}},warningCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":Object(J.a)({},ge)},successCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":Object(J.a)({},be)},dangerCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":Object(J.a)({},fe)},infoCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":Object(J.a)({},xe)},primaryCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":Object(J.a)({},ve)},roseCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":Object(J.a)({},Ee)}};var bt=f()(gt)(function(e){var t,a=Object(v.a)({},e),n=a.classes,o=a.className,i=a.children,l=a.color,c=a.plain,s=a.stats,u=a.icon,m=Object(h.a)(a,["classes","className","children","color","plain","stats","icon"]),p=w()((t={},Object(x.a)(t,n.cardHeader,!0),Object(x.a)(t,n[l+"CardHeader"],l),Object(x.a)(t,n.cardHeaderPlain,c),Object(x.a)(t,n.cardHeaderStats,s),Object(x.a)(t,n.cardHeaderIcon,u),Object(x.a)(t,o,void 0!==o),t));return r.a.createElement("div",Object.assign({className:p},m),i)}),ft={cardBody:{padding:"0.9375rem 20px",flex:"1 1 auto",WebkitBoxFlex:"1",position:"relative"},cardBodyPlain:{paddingLeft:"5px",paddingRight:"5px"},cardBodyProfile:{marginTop:"15px"}};var xt=f()(ft)(function(e){var t,a=Object(v.a)({},e),n=a.classes,o=a.className,i=a.children,l=a.plain,c=a.profile,s=Object(h.a)(a,["classes","className","children","plain","profile"]),u=w()((t={},Object(x.a)(t,n.cardBody,!0),Object(x.a)(t,n.cardBodyPlain,l),Object(x.a)(t,n.cardBodyProfile,c),Object(x.a)(t,o,void 0!==o),t));return r.a.createElement("div",Object.assign({className:u},s),i)}),vt={cardFooter:{padding:"0",paddingTop:"10px",margin:"0 15px 10px",borderRadius:"0",justifyContent:"space-between",alignItems:"center",display:"flex",backgroundColor:"transparent",border:"0"},cardFooterProfile:{marginTop:"-15px"},cardFooterPlain:{paddingLeft:"5px",paddingRight:"5px",backgroundColor:"transparent"},cardFooterStats:{borderTop:"1px solid "+le[10],marginTop:"20px","& svg":{position:"relative",top:"4px",marginRight:"3px",marginLeft:"3px",width:"16px",height:"16px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"16px",position:"relative",top:"4px",marginRight:"3px",marginLeft:"3px"}},cardFooterChart:{borderTop:"1px solid "+le[10]}};var Et,wt,yt=f()(vt)(function(e){var t,a=Object(v.a)({},e),n=a.classes,o=a.className,i=a.children,l=a.plain,c=a.profile,s=a.stats,u=a.chart,m=Object(h.a)(a,["classes","className","children","plain","profile","stats","chart"]),p=w()((t={},Object(x.a)(t,n.cardFooter,!0),Object(x.a)(t,n.cardFooterPlain,l),Object(x.a)(t,n.cardFooterProfile,c),Object(x.a)(t,n.cardFooterStats,s),Object(x.a)(t,n.cardFooterChart,u),Object(x.a)(t,o,void 0!==o),t));return r.a.createElement("div",Object.assign({className:p},m),i)}),Ct=a(76),kt=a.n(Ct),Ot=a(814),jt=a(172),St=a(241),Ft=a.n(St),It=a(862),At=a(863),Dt=a(864),Tt=a(13),Nt=a.n(Tt),Rt=Object(Ot.a)(function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}}),Mt=function(e,t){switch(e){case"date":return"dd/MM/yyyy";case"number":return function(e){if(["TranID","AccID"].includes(t))return null;var a=["Debit","Credit","Foreign Debit","Foreign Credit","Base Amount","Foreign Amount"].includes(t)?2:0,n=Math.abs(parseFloat(e)).toFixed(a).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return parseFloat(e)<0?"("+n+")":n};default:return null}},Bt=function(e){var t=Object(n.useState)(!1),a=Object(_e.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)({}),c=Object(_e.a)(l,2),s=c[0],u=c[1],m=e.datainfo,p=m.columns,d=m.rows,h=m.date,g=p.filter(function(e){return!e.hidden}).map(function(e){return e.name}),b=Rt();return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,null,r.a.createElement(Nt.a,{height:window.getGridHeight(),dataSource:d,wordWrapEnabled:!0,defaultColumns:g,allowColumnReordering:!0,showBorders:!0,columnFixing:{enabled:!0},allowColumnResizing:!0,columnMinWidth:50,columnAutoWidth:!0},r.a.createElement(Tt.HeaderFilter,{visible:!0}),r.a.createElement(Tt.Export,{enabled:!0,fileName:"GL Report ".concat(h?et()(h.startDate).format("DD.MM.YYYY"):""," ").concat(h?"-":""," ").concat(h?et()(h.endDate).format("DD.MM.YYYY"):""),allowExportSelectedData:!0}),r.a.createElement(Tt.FilterRow,{visible:!0}),r.a.createElement(Tt.GroupPanel,{visible:!0}),r.a.createElement(Tt.ColumnChooser,{enabled:!0,allowSearch:!0,mode:"select"}),r.a.createElement(Tt.SearchPanel,{visible:!0}),r.a.createElement(Tt.Scrolling,{mode:"virtual",useNative:!0}),r.a.createElement(Tt.Grouping,null),function(e,t,a){return e.map(function(e){return r.a.createElement(Tt.Column,Object.assign({key:e.name,dataField:e.name,dataType:e.type,visible:!e.hidden,format:e.format},"Attachments"===e.name&&{cellRender:function(e){var n=e.data.Attachments;return n?n.length?r.a.createElement("ul",{style:{paddingLeft:0}},n.map(function(e,t){return Object(J.a)({},e,{i:t})}).map(function(e){return Object(J.a)({},e,{link:e.link+"&id="+e.i})}).map(function(e){return r.a.createElement("li",{style:{listStyleType:"none"}},r.a.createElement("span",{style:{cursor:"pointer",color:"blue",textDecoration:"underline"},key:e.id,target:"_blank",onClick:function(){t(!0),a(e)}},e.FileName))})):"None":""}}))})}(p,i,u),r.a.createElement(Tt.Summary,null,r.a.createElement(Tt.GroupItem,{column:"Base Amount",summaryType:"sum",showInGroupFooter:!1,alignByColumn:!0,valueFormat:Mt("number","Base Amount")}),r.a.createElement(Tt.GroupItem,{column:"Foreign Amount",summaryType:"sum",showInGroupFooter:!1,alignByColumn:!0,valueFormat:Mt("number","Foreign Amount")}),r.a.createElement(Tt.TotalItem,{column:"Base Amount",summaryType:"sum",valueFormat:Mt("number","Foreign Amount")}),r.a.createElement(Tt.TotalItem,{column:"Foreign Amount",summaryType:"sum",valueFormat:Mt("number","Foreign Amount")})))),r.a.createElement(It.a,{fullScreen:!0,open:o,onClose:function(){return i(!1)}},r.a.createElement(y.a,{className:Object(J.a)({},b.appBar,{"blue-gradient":!0})},r.a.createElement(C.a,null,r.a.createElement(jt.a,{variant:"h6",className:b.title},s.FileName),r.a.createElement(k.a,{edge:"start",color:"inherit",onClick:function(){return i(!1)},"aria-label":"Close"},r.a.createElement(Ft.a,null)))),r.a.createElement(At.a,null,r.a.createElement(Dt.a,null,r.a.createElement("object",{style:{width:"100%",height:window.innerHeight-100},data:s.link},r.a.createElement("p",null,"Error with PDF displaying"))))))},Gt=a(232),Pt=a.n(Gt),Ht=(a(187),a(31)),zt=a.n(Ht),Ut=Object(tt.extendMoment)(et.a),Lt=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).onDateSelection=function(e,t){a.setState({daterange:e,states:t,datepkVisible:!a.state.datepkVisible})};var n=Ut();return a.state={connects:[],info:null,datalist:null,spinnerVisible:!1,datepkVisible:!1,daterange:Ut.range(Ut().startOf("month").clone(),n.clone())},a.initialize=a.initialize.bind(Object(m.a)(a)),a.launchPopup=a.launchPopup.bind(Object(m.a)(a)),a.apicall=a.apicall.bind(Object(m.a)(a)),a.revokeCall=a.revokeCall.bind(Object(m.a)(a)),a.refresh=a.refresh.bind(Object(m.a)(a)),a.getConnects=a.getConnects.bind(Object(m.a)(a)),a.toggleDatePicker=a.toggleDatePicker.bind(Object(m.a)(a)),a.onDateSelection=a.onDateSelection.bind(Object(m.a)(a)),a.onEventMessage=a.onEventMessage.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"initialize",value:function(){this.setState(function(e){return Object(J.a)({},e,{info:null,datalist:null,spinnerVisible:!0})})}},{key:"toggleDatePicker",value:function(){this.setState(function(e){return Object(J.a)({},e,{datepkVisible:!e.datepkVisible,datalist:null})})}},{key:"launchPopup",value:function(e){var t="location=1,width=800,height=650";t+=",left="+(window.screen.width-800)/2+",top="+(window.screen.height-650)/2,console.log(zt.a.apiUrl+e),window.open("".concat(zt.a.apiUrl).concat(e),"_blank",t),window.addEventListener("message",this.onEventMessage,!1)}},{key:"onEventMessage",value:function(e){e.origin===window.origin&&(this.getConnects(),window.removeEventListener("message",this.onEventMessage,!1))}},{key:"apicall",value:function(){var e=Object(Je.a)(Ke.a.mark(function e(t){var a,n,r,o,i,l,c,s,u,m,p,d,h,g;return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(this.initialize(),4,n=this.state.daterange.start.startOf("day"),r=this.state.daterange.end.startOf("day"),o=[],i=n.clone().subtract(1,"day");i<r;)i=i.clone().add(1,"day"),l=et.a.min(i.clone().add(4,"months"),r),o.push({start:i.format("YYYY-MM-DD"),end:l.format("YYYY-MM-DD")}),i=l;return c={headers:{Authorization:"Bearer ".concat(this.props.auth.accessToken)},crossdomain:!0,withCredentials:!0},e.next=10,Promise.all(o.map(function(e){return Xe.a.get("".concat(zt.a.apiUrl,"/api/report?realmID=").concat(t,"&start_date=").concat(e.start,"&end_date=").concat(e.end),c)}));case 10:s=e.sent,u=function(e,t){switch(e){case"date":return"dd/MM/yyyy";case"number":return function(e){if(["TranID","AccID"].includes(t))return null;var a=["Debit","Credit","Foreign Debit","Foreign Credit","Base Amount","Foreign Amount"].includes(t)?2:0,n=Math.abs(parseFloat(e)).toFixed(a).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return parseFloat(e)<0?"("+n+")":n};default:return null}},m=s.map(function(e){return e.data}),p=m.map(function(e){var a=e.columns.map(function(e){return Object(J.a)({},e,{key:e.name,name:e.name,type:e.type,format:u(e.type,e.name),hidden:["Customer","Supplier","Employee","Product/Service","Adj","AccID","Debit","Credit","Foreign Debit","Foreign Credit"].includes(e.name)})}),n=e.rows.map(function(e){return Object.entries(e).reduce(function(e,n){var r=Object(_e.a)(n,2),o=r[0],i=r[1].value;return e[a[o].key]=function(e,a){switch(e){case"Date":return Ut(a).toDate();case"Attachments":return a.map(function(e){return Object(J.a)({},e,{link:"".concat(zt.a.apiUrl,"/api/attachment?realmID=").concat(t,"&tranID=").concat(e.AttachableRef[0].EntityRef.value)})});default:return a}}(a[o].key,i),e},{})});return{header:e.header,columns:a,rows:n}}),d="Report Name - ".concat(t," - ").concat(p[0].header.ReportName,"\nFor Date: (").concat(n.format("YYYY-MM-DD")," - ").concat(r.format("YYYY-MM-DD"),")\nCurrency: ").concat(p[0].header.Currency),h=p[0].columns,g=(a=[]).concat.apply(a,Object(Qe.a)(p.map(function(e){return e.rows}))),this.setState(function(e){return Object(J.a)({},e,{spinnerVisible:!1,info:d,datalist:{rows:g,columns:h,date:{startDate:n,endDate:r}}})});case 18:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"refresh",value:function(e){var t=this;this.initialize(),console.log("333333333333333333"),console.log(this.props),console.log(this.props.auth.accessToken),Xe.a.post("".concat(zt.a.apiUrl,"/api/companies/").concat(e,"/refresh"),{},{headers:{Authorization:"Bearer ".concat(this.props.auth.accessToken)}}).then(function(e){t.getConnects()}).catch(function(e){})}},{key:"revokeCall",value:function(e){var t=this;this.initialize(),console.log("44444444444444444444444444444"),console.log(this.props.auth.accessToken),Xe.a.post("".concat(zt.a.apiUrl,"/api/companies/").concat(e,"/revoke"),{},{headers:{Authorization:"Bearer ".concat(this.props.auth.accessToken)}}).then(function(e){t.getConnects()}).catch(function(e){console.log(e.response.data)})}},{key:"getConnects",value:function(){var e=this,t=this;Xe.a.get("".concat(zt.a.apiUrl,"/api/companies"),{headers:{Authorization:"Bearer ".concat(this.props.auth.accessToken)},params:{user_id:this.props.auth.userProfile.sub}}).then(function(a){for(var n=a.data.sort(function(e,t){return e.info.name.localeCompare(t.info.name)}),o=[],i=function(e){var a,i=[];i.push(e),i.push(n[e].realmID),i.push("Loading"===(a=n[e]).status?r.a.createElement("b",null,"Loading..."):a.info.name),i.push(r.a.createElement(Se,{color:"info",onClick:function(){t.apicall(n[e].realmID)}},"Run GL Report")),i.push(r.a.createElement(Se,{color:"danger",onClick:function(){t.refresh(n[e].realmID)}},"Refresh data")),i.push(r.a.createElement(Se,{color:"danger",onClick:function(){t.revokeCall(n[e].realmID)}},n[e].token?"Revoke Token call":"Delete")),o.push(i)},l=0;l<n.length;l++)i(l);a.data.some(function(e){return"Loading"===e.status})&&setTimeout(e.getConnects,4e3),t.setState({connects:o,spinnerVisible:!1,info:null,datalist:null})}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){this.getConnects()}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(mt,null,r.a.createElement(pt,{xs:12,sm:12,md:8},r.a.createElement(ht,null,r.a.createElement(bt,{color:"primary"},r.a.createElement("div",{className:t.cardTitleWhite},r.a.createElement("a",{className:"img-holder imgLink",href:"#",onClick:function(){e.launchPopup("/api/sign_in_with_intuit")}},r.a.createElement("img",{style:{height:"40px"},src:"/images/IntuitSignIn-lg-white@2x.jpg",alt:"..."})),r.a.createElement("a",{className:"img-holder imgLink",href:"#",onClick:function(){e.launchPopup("/api/connect_to_quickbooks")}},r.a.createElement("img",{style:{height:"40px"},src:"/images/C2QB_white_btn_lg_default.png",alt:"..."}))),r.a.createElement("p",{className:t.cardCategoryWhite},"What would you like to do?")),r.a.createElement(xt,null,r.a.createElement(st,{tableHeaderColor:"warning",tableHead:["#","RealmID","Company name","Data refreshing","QuickBooks API Call","Revoke Token Call"],tableData:this.state.connects})))),r.a.createElement(pt,{xs:12,sm:12,md:4},r.a.createElement(ht,null,r.a.createElement(bt,{color:"warning",stats:!0,icon:!0},r.a.createElement(Se,{className:t.dateButton,color:"info",onClick:this.toggleDatePicker},"Set Date"),this.state.datepkVisible?r.a.createElement("div",{className:"date-range"},r.a.createElement(Pt.a,{value:this.state.daterange,onSelect:this.onDateSelection,singleDateRange:!0})):null,r.a.createElement("div",null,r.a.createElement("p",{className:t.cardTitleGrey},"Date Range"),r.a.createElement("h3",{className:t.cardTitleBlue},this.state.daterange.start.format("YYYY-MM-DD"),"~",this.state.daterange.end.format("YYYY-MM-DD")))),r.a.createElement(yt,{stats:!0},r.a.createElement("div",{className:t.cardTitleBlue},r.a.createElement("a",{href:"#pablo",onClick:function(e){return e.preventDefault()}},"You can change the GL report date range by clicking Set Date"))))),this.state.spinnerVisible?r.a.createElement(pt,{xs:12,sm:12,md:12},r.a.createElement("div",{className:"load-spinner"},r.a.createElement(kt.a,{size:80,spinnerColor:"#333",spinnerWidth:2,className:t.showSpinner}))):this.state.info?r.a.createElement(pt,{xs:12,sm:6,md:6},r.a.createElement(ht,{plain:!0},r.a.createElement(bt,{plain:!0,color:"warning",xs:3,sm:3,md:4},r.a.createElement("p",{className:"line-break"},this.state.info)))):null,this.state.datalist?r.a.createElement(pt,{xs:12,sm:12,md:12},r.a.createElement(Bt,{datainfo:this.state.datalist})):null)}}]),t}(n.Component),Wt=f()({cardCategoryWhite:{"&,& a,& a:hover,& a:focus":{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},"& a,& a:hover,& a:focus":{color:"#FFFFFF"}},cardTitleGrey:{color:"#333333",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",fontSize:"1.5em","& small":{color:"#333333",fontSize:"100%",fontWeight:"400",lineHeight:"1"}},cardTitleBlue:{color:"#1212E3",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",fontSize:"1.5em","& small":{color:"#1212E3",fontSize:"100%",fontWeight:"400",lineHeight:"1"}},cardDataGrid:{fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",fontSize:"1.5em"},showSpinner:{margin:"auto 0px"},dateButton:{marginTop:"10px",display:"block"}})(Lt),Vt=a(872),Yt=a(866),qt=a(865),Kt=a(874),Qt=Object(Ot.a)(function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},formControl:{width:"90%"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:"100%"}}}),_t=function(e,t){switch(e){case"date":return"dd/MM/yyyy";case"number":return function(e){if(["TranID","AccID"].includes(t))return null;var a=["Debit","Credit","Foreign Debit","Foreign Credit","Base Amount","Foreign Amount"].includes(t)?2:0,n=Math.abs(parseFloat(e)).toFixed(a).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return parseFloat(e)<0?"("+n+")":n};default:return null}},Jt=function(e){var t=e.datainfo,a=t.columns,o=t.rows,i=t.rowIndexes,l=t.info,c=t.refreshColumns,s=t.createColumn,u=t.editColumn,m=t.deleteColumn,p=t.updateRow,d=t.customCellIndexes,h=Object(n.useState)({isOpened:!1,isNew:!1,name:"",type:"string",columnId:""}),g=Object(_e.a)(h,2),b=g[0],f=g[1],v=Object(n.useState)(!1),E=Object(_e.a)(v,2),w=E[0],y=E[1],C=function(){f(Object(J.a)({},b,{isOpened:!1}))},k=function(){var e=Object(Je.a)(Ke.a.mark(function e(){return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!b.isNew){e.next=8;break}return e.next=3,s({name:b.name,type:b.type});case 3:return f(Object(J.a)({},b,{isOpened:!1})),e.next=6,c();case 6:e.next=13;break;case 8:return e.next=10,u({id:b.columnId,name:b.name,type:b.type});case 10:return f(Object(J.a)({},b,{isOpened:!1})),e.next=13,c();case 13:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(Je.a)(Ke.a.mark(function e(){return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({id:b.columnId});case 2:return y(!1),e.next=5,c();case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),j=function(e){return function(t){f(Object(J.a)({},b,Object(x.a)({},e,t.target.value)))}},S=a.filter(function(e){return!e.hidden}).map(function(e){return e.name}),F=Qt();return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,null,r.a.createElement(Nt.a,{height:window.getGridHeight(),dataSource:o,wordWrapEnabled:!0,defaultColumns:S,allowColumnReordering:!0,showBorders:!0,columnFixing:{enabled:!0},allowColumnResizing:!0,columnMinWidth:50,columnAutoWidth:!0,onContextMenuPreparing:function(e){"header"===e.target&&(e.items||(e.items=[]),e.items=[{text:"Add column",onItemClick:function(){f({isOpened:!0,isNew:!0,name:"",type:"string"})}},{text:"Edit column",onItemClick:function(){var t=a.find(function(t){return t.name===e.column.dataField});f({isOpened:!0,isNew:!1,name:e.column.dataField,type:t.type,columnId:t.id})}},{text:"Remove column",onItemClick:function(){var t=a.find(function(t){return t.name===e.column.dataField});f(Object(J.a)({},b,{columnId:t.id})),y(!0)}}])},onRowUpdated:function(e){var t=e.data,n=o.indexOf(t),r=Object.values(t),l=a.map(function(e,t){return{id:d[i[n]][e.id],columnId:e.id,classId:i[n],value:r[t]}});p(l.filter(function(e){return!!e.columnId}))},editing:{allowUpdating:!0,mode:"cell"}},r.a.createElement(Tt.HeaderFilter,{visible:!0}),r.a.createElement(Tt.Export,{enabled:!0,fileName:l,allowExportSelectedData:!0}),r.a.createElement(Tt.FilterRow,{visible:!0}),r.a.createElement(Tt.GroupPanel,{visible:!0}),r.a.createElement(Tt.ColumnChooser,{enabled:!0,allowSearch:!0,mode:"select"}),r.a.createElement(Tt.SearchPanel,{visible:!0}),r.a.createElement(Tt.Scrolling,{mode:"virtual",useNative:!0}),r.a.createElement(Tt.Grouping,null),function(e){return e.map(function(e){return r.a.createElement(Tt.Column,{key:e.name,dataField:e.name,dataType:e.type,visible:!e.hidden,allowEditing:!!e.id,format:_t(e.type,e.name)})})}(a),r.a.createElement(Tt.Summary,null,r.a.createElement(Tt.GroupItem,{column:"Base Amount",summaryType:"sum",showInGroupFooter:!1,alignByColumn:!0,valueFormat:_t("number","Base Amount")}),r.a.createElement(Tt.GroupItem,{column:"Foreign Amount",summaryType:"sum",showInGroupFooter:!1,alignByColumn:!0,valueFormat:_t("number","Foreign Amount")}),r.a.createElement(Tt.TotalItem,{column:"Base Amount",summaryType:"sum",valueFormat:_t("number","Foreign Amount")}),r.a.createElement(Tt.TotalItem,{column:"Foreign Amount",summaryType:"sum",valueFormat:_t("number","Foreign Amount")})))),r.a.createElement(It.a,{maxWidth:"sm",open:b.isOpened,onClose:C,"aria-labelledby":"form-dialog-title"},r.a.createElement(qt.a,{id:"form-dialog-title"},b.isNew?"Create a new column":"Edit a column"),r.a.createElement(At.a,{style:{height:180}},r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12},r.a.createElement(W.a,{className:F.formControl},r.a.createElement(Kt.a,{id:"standard-name",label:"Name",className:F.textField,value:b.name,onChange:j("name"),margin:"normal"}))),r.a.createElement(ut.a,{item:!0,xs:12},r.a.createElement(W.a,{className:F.formControl},r.a.createElement(V.a,{className:F.textField,htmlFor:"column-type"},"Type"),r.a.createElement(Vt.a,{className:F.textField,value:b.type,onChange:j("type"),inputProps:{name:"Type",id:"column-type"}},r.a.createElement(I.a,{value:"string"},"String"),r.a.createElement(I.a,{value:"number"},"Number"),r.a.createElement(I.a,{value:"date"},"Date"),r.a.createElement(I.a,{value:"boolean"},"Boolean"),r.a.createElement(I.a,{value:"datetime"},"Datetime"))))))),r.a.createElement(Yt.a,null,r.a.createElement(Oe.a,{onClick:C,color:"primary"},"Cancel"),r.a.createElement(Oe.a,{onClick:k,color:"primary"},b.isNew?"Create":"Save"))),r.a.createElement(It.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"xs","aria-labelledby":"confirmation-dialog-title",open:w},r.a.createElement(qt.a,{id:"confirmation-dialog-title"},"Are you sure?"),r.a.createElement(Yt.a,null,r.a.createElement(Oe.a,{onClick:function(){return y(!1)},color:"primary"},"Cancel"),r.a.createElement(Oe.a,{onClick:O,color:"primary"},"Ok"))))},Zt=Object(tt.extendMoment)(et.a),Xt=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).onDateSelection=function(e,t){a.setState({daterange:e,states:t,datepkVisible:!a.state.datepkVisible})};var n=Zt();return a.state={selectedConnect:null,connects:[],info:null,datalist:null,spinnerVisible:!1,datepkVisible:!1,daterange:Zt.range(Zt().startOf("month").clone(),n.clone())},a.handleSelectedConnectionChange=a.handleSelectedConnectionChange.bind(Object(m.a)(a)),a.initialize=a.initialize.bind(Object(m.a)(a)),a.launchPopup=a.launchPopup.bind(Object(m.a)(a)),a.apicall=a.apicall.bind(Object(m.a)(a)),a.getConnects=a.getConnects.bind(Object(m.a)(a)),a.toggleDatePicker=a.toggleDatePicker.bind(Object(m.a)(a)),a.onDateSelection=a.onDateSelection.bind(Object(m.a)(a)),a.onEventMessage=a.onEventMessage.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"initialize",value:function(){this.setState(function(e){return Object(J.a)({},e,{info:null,datalist:null,spinnerVisible:!0})})}},{key:"toggleDatePicker",value:function(){this.setState(function(e){return Object(J.a)({},e,{datepkVisible:!e.datepkVisible})})}},{key:"launchPopup",value:function(e){var t="location=1,width=800,height=650";t+=",left="+(window.screen.width-800)/2+",top="+(window.screen.height-650)/2,window.open("".concat(zt.a.apiUrl).concat(e),"connectPopup",t),window.addEventListener("message",this.onEventMessage,!1)}},{key:"onEventMessage",value:function(e){e.origin===window.origin&&this.getConnects()}},{key:"apicall",value:function(){var e=Object(Je.a)(Ke.a.mark(function e(t){var a,n,r,o,i,l,c,s,u,m,p,d=this;return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.initialize(),a={headers:{Authorization:"Bearer ".concat(this.props.auth.accessToken)},crossdomain:!0,withCredentials:!0},console.log(this.props.auth),n=JSON.parse(localStorage.getItem("user")||"{}"),(r=n.sub)&&"auth0|5d366cc5657bfb0e10f7fa37"!==r||(r="auth0|5d3b5a9378323e0eac9c375f"),e.next=8,Xe.a.get("".concat(zt.a.apiUrl,"/api_call/classes?realmID=").concat(t,"&userId=").concat(r),a);case 8:o=e.sent,i=o.data,l=function(e,t){switch(e){case"date":return"dd/MM/yyyy";case"number":return function(e){if(["TranID","AccID"].includes(t))return null;var a=["Debit","Credit","Foreign Debit","Foreign Credit","Base Amount","Foreign Amount"].includes(t)?2:0,n=Math.abs(parseFloat(e)).toFixed(a).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return parseFloat(e)<0?"("+n+")":n};default:return null}},c=i.columns.map(function(e){return Object(J.a)({},e,{key:e.name,name:e.name,type:e.type,format:l(e.type,e.name),hidden:["Customer","Supplier","Employee","Product/Service","Adj","AccID","Debit","Credit","Foreign Debit","Foreign Credit"].includes(e.name)})}),s=function(e,t){return t},u=i.rows.map(function(e){return Object.entries(e).reduce(function(e,t){var a=Object(_e.a)(t,2),n=a[0],r=a[1].value;return e[c[n].key]=s(c[n].key,r),e},{})}),m=i.rowIndexes,p="Class codes for company: ".concat(t),this.setState(function(e){return Object(J.a)({},e,{spinnerVisible:!1,info:p,datalist:{rows:u,rowIndexes:m,columns:c,info:p,customCellIndexes:i.customCellIndexes,createColumn:function(){var e=Object(Je.a)(Ke.a.mark(function e(n){var o,i;return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.name,i=n.type,e.next=3,Xe.a.post("".concat(zt.a.apiUrl,"/api_call/columns"),{name:o,type:i,realmID:t,userId:r},a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),editColumn:function(){var e=Object(Je.a)(Ke.a.mark(function e(n){var o,i,l;return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.id,i=n.name,l=n.type,e.next=3,Xe.a.put("".concat(zt.a.apiUrl,"/api_call/columns"),{id:o,name:i,type:l,realmID:t,userId:r},a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),deleteColumn:function(){var e=Object(Je.a)(Ke.a.mark(function e(t){var n;return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,Xe.a.delete("".concat(zt.a.apiUrl,"/api_call/columns/").concat(n),a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),updateRow:function(){var e=Object(Je.a)(Ke.a.mark(function e(t){return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,Xe.a.post("".concat(zt.a.apiUrl,"/api_call/rows"),t,a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),refreshColumns:function(){var e=Object(Je.a)(Ke.a.mark(function e(){return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.apicall(t);case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}})});case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleSelectedConnectionChange",value:function(e){this.setState({selectedConnect:e.target.value}),this.apicall(e.target.value.realmID)}},{key:"getConnects",value:function(){var e=this,t=this;console.log("22222222222222222222222222"),console.log(this.props.auth.accessToken),Xe.a.get("".concat(zt.a.apiUrl,"/api/companies"),{headers:{Authorization:"Bearer ".concat(this.props.auth.accessToken)},params:{user_id:this.props.auth.userProfile.sub}}).then(function(a){var n=a.data,r=n.length?n[0]:null;t.setState({selectedConnect:r,connects:n,spinnerVisible:!1,info:null,datalist:null}),console.log("Get QuickBooks Success"),r&&e.apicall(r.realmID)}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){this.getConnects()}},{key:"render",value:function(){var e=this.props.classes,t=this.state.connects.map(function(e){return r.a.createElement(I.a,{value:e,key:e.realmID},e.info.name)});return r.a.createElement("div",null,r.a.createElement(mt,null,r.a.createElement(pt,{xs:12,sm:12,md:12},r.a.createElement(ht,null,r.a.createElement(xt,null,r.a.createElement(W.a,{className:e.formControl},r.a.createElement(V.a,{htmlFor:"age-simple"},"Company"),r.a.createElement(Vt.a,{value:this.state.selectedConnect,onChange:this.handleSelectedConnectionChange,inputProps:{name:"Connection",id:"selected-connection"}},t))))),this.state.spinnerVisible?r.a.createElement(pt,{xs:12,sm:12,md:12},r.a.createElement("div",{className:"load-spinner"},r.a.createElement(kt.a,{size:80,spinnerColor:"#333",spinnerWidth:2,className:e.showSpinner}))):null,this.state.datalist?r.a.createElement(pt,{xs:12,sm:12,md:12},r.a.createElement(Jt,{datainfo:this.state.datalist})):null))}}]),t}(n.Component),$t=f()({cardCategoryWhite:{"&,& a,& a:hover,& a:focus":{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},"& a,& a:hover,& a:focus":{color:"#FFFFFF"}},cardTitleGrey:{color:"#333333",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",fontSize:"1.5em","& small":{color:"#333333",fontSize:"100%",fontWeight:"400",lineHeight:"1"}},cardTitleBlue:{color:"#1212E3",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",fontSize:"1.5em","& small":{color:"#1212E3",fontSize:"100%",fontWeight:"400",lineHeight:"1"}},cardDataGrid:{fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",fontSize:"1.5em"},showSpinner:{margin:"auto 0px"},dateButton:{marginTop:"10px",display:"block"}})(Xt),ea=Object(Ot.a)(function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},formControl:{width:"90%"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:"100%"}}}),ta=function(e,t){switch(e){case"date":return"dd/MM/yyyy";case"number":return function(e){if(["TranID","AccID"].includes(t))return null;var a=["Debit","Credit","Foreign Debit","Foreign Credit","Base Amount","Foreign Amount"].includes(t)?2:0,n=Math.abs(parseFloat(e)).toFixed(a).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return parseFloat(e)<0?"("+n+")":n};default:return null}},aa=function(e){var t=e.datainfo,a=t.columns,o=t.rows,i=t.rowIndexes,l=t.info,c=t.refreshColumns,s=t.createColumn,u=t.editColumn,m=t.deleteColumn,p=t.updateRow,d=t.customCellIndexes,h=Object(n.useState)({isOpened:!1,isNew:!1,isNegative:!1,name:"",type:"string",columnId:""}),g=Object(_e.a)(h,2),b=g[0],f=g[1],v=Object(n.useState)(!1),E=Object(_e.a)(v,2),w=E[0],y=E[1],C=function(){f(Object(J.a)({},b,{isOpened:!1}))},k=function(){var e=Object(Je.a)(Ke.a.mark(function e(){return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!b.isNew){e.next=8;break}return e.next=3,s({name:b.name,type:b.type,isNegative:b.isNegative});case 3:return f(Object(J.a)({},b,{isOpened:!1})),e.next=6,c();case 6:e.next=13;break;case 8:return e.next=10,u({id:b.columnId,name:b.name,type:b.type,isNegative:b.isNegative});case 10:return f(Object(J.a)({},b,{isOpened:!1})),e.next=13,c();case 13:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(Je.a)(Ke.a.mark(function e(){return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({id:b.columnId});case 2:return y(!1),e.next=5,c();case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),j=function(e){return function(t){f(Object(J.a)({},b,Object(x.a)({},e,t.target.value)))}},S=a.filter(function(e){return!e.hidden}).map(function(e){return e.name}),F=ea();return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,null,r.a.createElement(Nt.a,{height:window.getGridHeight(),dataSource:o,wordWrapEnabled:!0,defaultColumns:S,allowColumnReordering:!0,showBorders:!0,columnFixing:{enabled:!0},allowColumnResizing:!0,columnMinWidth:50,columnAutoWidth:!0,onContextMenuPreparing:function(e){"header"===e.target&&(e.items||(e.items=[]),e.items=[{text:"Add column",onItemClick:function(){f({isOpened:!0,isNew:!0,name:"",isNegative:!1,type:"string"})}},{text:"Edit column",onItemClick:function(){var t=a.find(function(t){return t.name===e.column.dataField});f({isOpened:!0,isNew:!1,isNegative:t.isNegative,name:e.column.dataField,type:t.type,columnId:t.id})}},{text:"Remove column",onItemClick:function(){var t=a.find(function(t){return t.name===e.column.dataField});f(Object(J.a)({},b,{columnId:t.id})),y(!0)}}])},onRowUpdated:function(e){var t=e.data,n=o.indexOf(t),r=Object.values(t),l=a.map(function(e,t){return{id:d[i[n]][e.id],columnId:e.id,accountId:i[n],value:r[t]}});p(l.filter(function(e){return!!e.columnId}))},editing:{allowUpdating:!0,mode:"cell"}},r.a.createElement(Tt.HeaderFilter,{visible:!0}),r.a.createElement(Tt.Export,{enabled:!0,fileName:l,allowExportSelectedData:!0}),r.a.createElement(Tt.FilterRow,{visible:!0}),r.a.createElement(Tt.GroupPanel,{visible:!0}),r.a.createElement(Tt.ColumnChooser,{enabled:!0,allowSearch:!0,mode:"select"}),r.a.createElement(Tt.SearchPanel,{visible:!0}),r.a.createElement(Tt.Scrolling,{mode:"virtual",useNative:!0}),r.a.createElement(Tt.Grouping,null),function(e){return e.map(function(e){return r.a.createElement(Tt.Column,{key:e.name,dataField:e.name,dataType:e.type,visible:!e.hidden,allowEditing:!!e.id,format:ta(e.type,e.name)})})}(a),r.a.createElement(Tt.Summary,null,r.a.createElement(Tt.GroupItem,{column:"Base Amount",summaryType:"sum",showInGroupFooter:!1,alignByColumn:!0,valueFormat:ta("number","Base Amount")}),r.a.createElement(Tt.GroupItem,{column:"Foreign Amount",summaryType:"sum",showInGroupFooter:!1,alignByColumn:!0,valueFormat:ta("number","Foreign Amount")}),r.a.createElement(Tt.TotalItem,{column:"Base Amount",summaryType:"sum",valueFormat:ta("number","Foreign Amount")}),r.a.createElement(Tt.TotalItem,{column:"Foreign Amount",summaryType:"sum",valueFormat:ta("number","Foreign Amount")})))),r.a.createElement(It.a,{maxWidth:"sm",open:b.isOpened,onClose:C,"aria-labelledby":"form-dialog-title"},r.a.createElement(qt.a,{id:"form-dialog-title"},b.isNew?"Create a new column":"Edit a column"),r.a.createElement(At.a,{style:{height:260}},r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12},r.a.createElement(W.a,{className:F.formControl},r.a.createElement(Kt.a,{id:"standard-name",label:"Name",className:F.textField,value:b.name,onChange:j("name"),margin:"normal"}))),r.a.createElement(ut.a,{item:!0,xs:12},r.a.createElement(W.a,{className:F.formControl},r.a.createElement(V.a,{className:F.textField,htmlFor:"column-type"},"Type"),r.a.createElement(Vt.a,{className:F.textField,value:b.type,onChange:j("type"),inputProps:{name:"Type",id:"column-type"}},r.a.createElement(I.a,{value:"boolean"},"Boolean")))),r.a.createElement(ut.a,{item:!0,xs:12},r.a.createElement(W.a,{className:F.formControl},r.a.createElement(V.a,{className:F.textField,htmlFor:"isNegative"},"Is negative"),r.a.createElement(Vt.a,{className:F.textField,value:b.isNegative,onChange:j("isNegative"),inputProps:{name:"isNegative",id:"isNegative"}},r.a.createElement(I.a,{value:!0},"true"),r.a.createElement(I.a,{value:!1},"false"))))))),r.a.createElement(Yt.a,null,r.a.createElement(Oe.a,{onClick:C,color:"primary"},"Cancel"),r.a.createElement(Oe.a,{onClick:k,color:"primary"},b.isNew?"Create":"Save"))),r.a.createElement(It.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"xs","aria-labelledby":"confirmation-dialog-title",open:w},r.a.createElement(qt.a,{id:"confirmation-dialog-title"},"Are you sure?"),r.a.createElement(Yt.a,null,r.a.createElement(Oe.a,{onClick:function(){return y(!1)},color:"primary"},"Cancel"),r.a.createElement(Oe.a,{onClick:O,color:"primary"},"Ok"))))},na=Object(tt.extendMoment)(et.a),ra=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).onDateSelection=function(e,t){a.setState({daterange:e,states:t,datepkVisible:!a.state.datepkVisible})};var n=na();return a.state={selectedConnect:null,connects:[],info:null,datalist:null,spinnerVisible:!1,datepkVisible:!1,daterange:na.range(na().startOf("month").clone(),n.clone())},a.handleSelectedConnectionChange=a.handleSelectedConnectionChange.bind(Object(m.a)(a)),a.initialize=a.initialize.bind(Object(m.a)(a)),a.launchPopup=a.launchPopup.bind(Object(m.a)(a)),a.apicall=a.apicall.bind(Object(m.a)(a)),a.getConnects=a.getConnects.bind(Object(m.a)(a)),a.toggleDatePicker=a.toggleDatePicker.bind(Object(m.a)(a)),a.onDateSelection=a.onDateSelection.bind(Object(m.a)(a)),a.onEventMessage=a.onEventMessage.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"initialize",value:function(){this.setState(function(e){return Object(J.a)({},e,{info:null,datalist:null,spinnerVisible:!0})})}},{key:"toggleDatePicker",value:function(){this.setState(function(e){return Object(J.a)({},e,{datepkVisible:!e.datepkVisible})})}},{key:"launchPopup",value:function(e){var t="location=1,width=800,height=650";t+=",left="+(window.screen.width-800)/2+",top="+(window.screen.height-650)/2,window.open("".concat(zt.a.apiUrl).concat(e),"connectPopup",t),window.addEventListener("message",this.onEventMessage,!1)}},{key:"onEventMessage",value:function(e){e.origin===window.origin&&this.getConnects()}},{key:"apicall",value:function(){var e=Object(Je.a)(Ke.a.mark(function e(t){var a,n,r,o,i,l,c,s,u,m=this;return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.initialize(),a={headers:{Authorization:"Bearer ".concat(this.props.auth.accessToken)},crossdomain:!0,withCredentials:!0},e.next=4,Xe.a.get("".concat(zt.a.apiUrl,"/api_call/accounts?realmID=").concat(t),a);case 4:n=e.sent,r=n.data,o=function(e,t){switch(e){case"date":return"dd/MM/yyyy";case"number":return function(e){if(["TranID","AccID"].includes(t))return null;var a=["Debit","Credit","Foreign Debit","Foreign Credit","Base Amount","Foreign Amount"].includes(t)?2:0,n=Math.abs(parseFloat(e)).toFixed(a).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return parseFloat(e)<0?"("+n+")":n};default:return null}},i=r.columns.map(function(e){return Object(J.a)({},e,{key:e.name,name:e.name,type:e.type,format:o(e.type,e.name),hidden:e.hidden})}),l=function(e,t){return t},c=r.rows.map(function(e){return Object.entries(e).reduce(function(e,t){var a=Object(_e.a)(t,2),n=a[0],r=a[1].value;return e[i[n].key]=l(i[n].key,r),e},{})}),s=r.rowIndexes,u="Accounts information for realmID: ".concat(t),this.setState(function(e){return Object(J.a)({},e,{spinnerVisible:!1,info:u,datalist:{rows:c,rowIndexes:s,columns:i,info:u,customCellIndexes:r.customCellIndexes,createColumn:function(){var e=Object(Je.a)(Ke.a.mark(function e(n){var r,o,i;return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.name,o=n.type,i=n.isNegative,e.next=3,Xe.a.post("".concat(zt.a.apiUrl,"/api_call/accounts/columns"),{name:r,type:o,realmID:t,isNegative:i},a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),editColumn:function(){var e=Object(Je.a)(Ke.a.mark(function e(n){var r,o,i,l;return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,o=n.name,i=n.type,l=n.isNegative,e.next=3,Xe.a.put("".concat(zt.a.apiUrl,"/api_call/accounts/columns"),{id:r,name:o,type:i,realmID:t,isNegative:l},a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),deleteColumn:function(){var e=Object(Je.a)(Ke.a.mark(function e(t){var n;return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,Xe.a.delete("".concat(zt.a.apiUrl,"/api_call/accounts/columns/").concat(n),a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),updateRow:function(){var e=Object(Je.a)(Ke.a.mark(function e(t){return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,Xe.a.post("".concat(zt.a.apiUrl,"/api_call/accounts/rows"),t,a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),refreshColumns:function(){var e=Object(Je.a)(Ke.a.mark(function e(){return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.apicall(t);case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}})});case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleSelectedConnectionChange",value:function(e){this.setState({selectedConnect:e.target.value}),this.apicall(e.target.value.realmID)}},{key:"getConnects",value:function(){var e=this,t=this;Xe.a.get("".concat(zt.a.apiUrl,"/api/companies"),{headers:{Authorization:"Bearer ".concat(this.props.auth.accessToken)},params:{user_id:this.props.auth.userProfile.sub}}).then(function(a){var n=a.data,r=n.length?n[0]:null;t.setState({selectedConnect:r,connects:n,spinnerVisible:!1,info:null,datalist:null}),console.log("Get QuickBooks Success"),r&&e.apicall(r.realmID)}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){this.getConnects()}},{key:"render",value:function(){var e=this.props.classes,t=this.state.connects.map(function(e){return r.a.createElement(I.a,{value:e,key:e.realmID},e.info.name)});return r.a.createElement("div",null,r.a.createElement(mt,null,r.a.createElement(pt,{xs:12,sm:12,md:12},r.a.createElement(ht,null,r.a.createElement(xt,null,r.a.createElement(W.a,{className:e.formControl},r.a.createElement(V.a,{htmlFor:"age-simple"},"Company"),r.a.createElement(Vt.a,{value:this.state.selectedConnect,onChange:this.handleSelectedConnectionChange,inputProps:{name:"Connection",id:"selected-connection"}},t))))),this.state.spinnerVisible?r.a.createElement(pt,{xs:12,sm:12,md:12},r.a.createElement("div",{className:"load-spinner"},r.a.createElement(kt.a,{size:80,spinnerColor:"#333",spinnerWidth:2,className:e.showSpinner}))):null,this.state.datalist?r.a.createElement(pt,{xs:12,sm:12,md:12},r.a.createElement(aa,{datainfo:this.state.datalist})):null))}}]),t}(n.Component),oa=f()({cardCategoryWhite:{"&,& a,& a:hover,& a:focus":{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},"& a,& a:hover,& a:focus":{color:"#FFFFFF"}},cardTitleGrey:{color:"#333333",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",fontSize:"1.5em","& small":{color:"#333333",fontSize:"100%",fontWeight:"400",lineHeight:"1"}},cardTitleBlue:{color:"#1212E3",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",fontSize:"1.5em","& small":{color:"#1212E3",fontSize:"100%",fontWeight:"400",lineHeight:"1"}},cardDataGrid:{fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",fontSize:"1.5em"},showSpinner:{margin:"auto 0px"},dateButton:{marginTop:"10px",display:"block"}})(ra),ia=a(170),la=a(439),ca=Object(la.a)([function(e){return e.companies.isLoading},function(e){return e.margins.isLoadingTable},function(e){return e.margins.isLoadingDetail},function(e){return e.companies.data},function(e){return e.margins.tableData},function(e){return e.margins.detailData}],function(e,t,a,n,r,o){return{isLoadingCompany:e,isLoadingTable:t,isLoadingDetail:a,companies:n,tableData:r,detailData:o}}),sa=a(440),ua=a.n(sa)()({CALL_API:null,GET_COMPANIES_REQUEST:null,GET_COMPANIES_SUCCESS:null,GET_COMPANIES_FAILURE:null,GET_MARGINS_REQUEST:null,GET_MARGINS_SUCCESS:null,GET_MARGINS_FAILURE:null,GET_MARGIN_REQUEST:null,GET_MARGIN_SUCCESS:null,GET_MARGIN_FAILURE:null,UPDATE_MARGIN_DATA:null}),ma=a(147),pa={isLoading:!0,data:[]},da=(Et={},Object(x.a)(Et,ua.GET_COMPANIES_REQUEST,function(e){return Object(J.a)({},e,{isLoading:!0})}),Object(x.a)(Et,ua.GET_COMPANIES_SUCCESS,function(e,t){var a=t.result;return Object(J.a)({},e,{isLoading:!1,data:a.data})}),Object(x.a)(Et,ua.GET_COMPANIES_FAILURE,function(e){return Object(J.a)({},e,{isLoading:!1})}),Et),ha={isLoadingTable:!0,isLoadingDetail:!0,tableData:null,detailData:null},ga=(wt={},Object(x.a)(wt,ua.GET_MARGINS_REQUEST,function(e){return Object(J.a)({},e,{isLoadingTable:!0})}),Object(x.a)(wt,ua.GET_MARGINS_SUCCESS,function(e,t){var a=t.result;return Object(J.a)({},e,{isLoadingTable:!1,tableData:a.data})}),Object(x.a)(wt,ua.GET_MARGINS_FAILURE,function(e){return Object(J.a)({},e,{isLoadingTable:!1})}),Object(x.a)(wt,ua.GET_MARGIN_REQUEST,function(e){return Object(J.a)({},e,{isLoadingDetail:!0})}),Object(x.a)(wt,ua.GET_MARGIN_SUCCESS,function(e,t){var a=t.result;return Object(J.a)({},e,{isLoadingDetail:!1,detailData:a.data})}),Object(x.a)(wt,ua.GET_MARGIN_FAILURE,function(e){return Object(J.a)({},e,{isLoadingDetail:!1})}),Object(x.a)(wt,ua.UPDATE_MARGIN_DATA,function(e,t){var a=t.data;return Object(J.a)({},e,{tableData:a})}),wt),ba=Object(ma.c)({companies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pa,t=arguments.length>1?arguments[1]:void 0;return da[t.type]?da[t.type](e,t):e},margins:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha,t=arguments.length>1?arguments[1]:void 0;return ga[t.type]?ga[t.type](e,t):e}}),fa={companies:{getCompanies:function(e){return Object(x.a)({},ua.CALL_API,{types:[ua.GET_COMPANIES_REQUEST,ua.GET_COMPANIES_SUCCESS,ua.GET_COMPANIES_FAILURE],promise:function(t){return t.get("".concat(zt.a.apiUrl,"/api/companies"),{params:e})}})}},margins:{getTableData:function(e){return Object(x.a)({},ua.CALL_API,{types:[ua.GET_MARGINS_REQUEST,ua.GET_MARGINS_SUCCESS,ua.GET_MARGINS_FAILURE],promise:function(t){return t.get("".concat(zt.a.apiUrl,"/api_call/margins"),{params:e})}})},getDetail:function(e,t){return Object(x.a)({},ua.CALL_API,{types:[ua.GET_MARGIN_REQUEST,ua.GET_MARGIN_SUCCESS,ua.GET_MARGIN_FAILURE],promise:function(a){return a.post("".concat(zt.a.apiUrl,"/api_call/class/details?realmID=").concat(e),t)}})},updateTableData:function(e){return{type:ua.UPDATE_MARGIN_DATA,data:e}}}},xa=a(441),va=a.n(xa),Ea=a(165),wa=a.n(Ea),ya=a(442),Ca=a.n(ya),ka=a(867),Oa=a(9),ja=a(869),Sa=a(443),Fa=a.n(Sa),Ia=a(444),Aa=a.n(Ia),Da=a(868),Ta=a(870),Na=a(14),Ra=function(e,t){switch(e){case"date":return"dd/MM/yyyy";case"number":return function(e){if(["TranID","AccID"].includes(t))return null;var a=["Debit","Credit","Foreign Debit","Foreign Credit","Base Amount","Foreign Amount"].includes(t)?2:0,n=Math.abs(parseFloat(e)).toFixed(a).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return parseFloat(e)<0?"("+n+")":n};default:return null}},Ma=function(e,t){return t.filter(function(t){return t.Account===e})},Ba=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).getDetailData=function(e,t,n){(0,a.props.getDetail)(e,{className:t,type:n})},a.getColumnValue=function(e,t){var n=a.props.realmID;switch(e){case"Date":return et()(t).toDate();case"Attachments":return t.map(function(e){return Object(J.a)({},e,{link:"".concat(zt.a.apiUrl,"/api/attachment?realmID=").concat(n,"&tranID=").concat(e.AttachableRef[0].EntityRef.value)})});default:return t}},a.openDrawer=function(){a.setState({drawerOpened:!0})},a.closeDrawer=function(){a.setState({drawerOpened:!1})},a.selectAccount=function(e){a.state.accountSelected!==e&&a.setState({accountSelected:e})},a.state={drawerOpened:!0,accountSelected:null},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.realmID,a=e.row,n=e.col;this.getDetailData(t,a,n)}},{key:"componentWillReceiveProps",value:function(e,t){var a=this;if(this.props.realmID===e.realmID&&this.props.row===e.row&&this.props.col===e.col||this.getDetailData(e.realmID,e.row,e.col),this.props.detailData!==e.detailData){e.detailData.columns=e.detailData.columns.map(function(e){return Object(J.a)({},e,{key:e.name,name:e.name,type:e.type,format:Ra(e.type,e.name),hidden:["Customer","Supplier","Employee","Product/Service","Adj","AccID","Debit","Credit","Foreign Debit","Foreign Credit"].includes(e.name)})}),e.detailData.rows=e.detailData.rows.map(function(t){return Object.entries(t).reduce(function(t,n){var r=Object(_e.a)(n,2),o=r[0],i=r[1].value;return t[e.detailData.columns[o].name]=a.getColumnValue(e.detailData.columns[o].name,i),t},{})});for(var n=null,r=0;r<e.detailData.accounts.length;r++)if(Ma(e.detailData.accounts[r],e.detailData.rows).length>0){n=e.detailData.accounts[r];break}this.setState({accountSelected:n})}}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.isLoadingDetail,o=a.detailData,i=a.classes,l=a.theme,c=a.onClose,s=a.row,u=a.col,m=this.state,p=m.drawerOpened,d=m.accountSelected,h=r.a.createElement("div",{className:"load-spinner"},r.a.createElement(kt.a,{size:80,spinnerColor:"#333",spinnerWidth:2,className:i.showSpinner}));if(!n){var g=o.accounts,b=o.rows,f=o.columns,v={rows:Ma(d,b),columns:f};h=r.a.createElement(r.a.Fragment,null,r.a.createElement(Me.a,{className:i.drawer,variant:"persistent",anchor:"left",open:p,classes:{paper:i.drawerPaper}},r.a.createElement("div",{className:i.drawerHeader},r.a.createElement(k.a,{onClick:this.closeDrawer},"ltr"===l.direction?r.a.createElement(Fa.a,null):r.a.createElement(Aa.a,null))),r.a.createElement(ka.a,null),r.a.createElement(Be.a,null,g.filter(function(e){return Ma(e,b).length>0}).map(function(e){return r.a.createElement(Ge.a,{key:e,style:{justifyContent:"center"}},r.a.createElement(Da.a,{style:{width:"100%",fontSize:"12px",backgroundColor:"#c2185b",color:"white"},variant:"extended",size:"medium","aria-label":"Add",onClick:function(){return t.selectAccount(e)},className:i.margin},e))}))),r.a.createElement("div",{style:{width:"100%"},className:Object(Oa.a)(i.content,Object(x.a)({},i.contentShift,p))},r.a.createElement("div",{className:i.drawerHeader}),r.a.createElement("h2",null,d," (",v.rows.length," rows)"),r.a.createElement(Bt,{datainfo:v})))}return r.a.createElement(It.a,{fullScreen:!0,open:!0,onClose:c},r.a.createElement("div",{className:i.root},r.a.createElement(ja.a,null),r.a.createElement(y.a,{position:"fixed",className:Object(Oa.a)(i.appBar,(e={},Object(x.a)(e,i.appBarShift,p),Object(x.a)(e,"blue-gradient",!0),e))},r.a.createElement(C.a,null,r.a.createElement(k.a,{color:"inherit","aria-label":"Open drawer",onClick:this.openDrawer,edge:"start",className:Object(Oa.a)(i.menuButton,p&&i.hide)},r.a.createElement(F.a,null)),r.a.createElement(jt.a,{variant:"h6",noWrap:!0},"".concat(u," details for ").concat(s)),r.a.createElement(k.a,{style:{marginLeft:"auto"},edge:"start",color:"inherit",onClick:c,"aria-label":"Close"},r.a.createElement(Ft.a,null)))),h))}}]),t}(n.Component),Ga=Object(ia.a)(ca,Object(J.a)({},fa.margins))(Object(Ta.a)(Object(Na.a)(function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(J.a)({display:"flex",alignItems:"center",padding:"0 8px"},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},showSpinner:{margin:"auto 0px"}}})(Ba))),Pa=function(){var e=JSON.parse(localStorage.getItem("user")||"{}");return"auth0|5d366cc5657bfb0e10f7fa37"===e.sub||"auth0|5d3b5a9378323e0eac9c375f"===e.sub||"auth0|5d386cfa72d87e0df01b37de"===e.sub},Ha=function(e,t){switch(e){case"date":return"dd/MM/yyyy";case"number":return function(e){if(["TranID","AccID"].includes(t))return null;var a=["Debit","Credit","Foreign Debit","Foreign Credit","Base Amount","Foreign Amount"].includes(t)?2:0,n=Math.abs(parseFloat(e)).toFixed(a).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return parseFloat(e)<0?"("+n+")":n};default:return null}},za=function(e,t){switch(e){case"date":return"dd/MM/yyyy";case"number":return function(e){var a=(["Gross Margin %","Net Margin %"].includes(t),2),n=["Gross Margin %","Net Margin %"].includes(t)?"%":"",r=Math.abs(parseFloat(e)).toFixed(a).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+n;return parseFloat(e)<0?"("+r+")":r};default:return null}},Ua=new wa.a({key:"index",data:[]}),La=new va.a({store:Ua,reshapeOnPush:!0}),Wa=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).listenSocket=function(){a.socket.on("margin_update_res",function(e){e.token===a.token&&(0,a.props.updateTableData)(e)})},a.getTableData=function(e){var t=a.props.getTableData,n=JSON.parse(localStorage.getItem("user")||"{}"),r=e.realmID,o=n.sub;o&&"auth0|5d366cc5657bfb0e10f7fa37"!==o||(o="auth0|5d3b5a9378323e0eac9c375f"),t({realmID:r,userId:o}).then(function(){a.token=Math.random().toString(36).substr(2,5),a.listenSocket(),a.sendUpdateRequest(!0)}).catch(function(e){console.error(e)})},a.sendUpdateRequest=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=a.props.company.realmID;a.socket.emit("margin_update_req",{token:a.token,realmID:t,isFirstTimeReq:e}),clearTimeout(a.interval),a.interval=setTimeout(a.sendUpdateRequest,5e3)},a.onContextMenuPreparing=function(e){var t=a.props.tableData.columns;"content"===e.target&&(e.items=t.filter(function(e){return e.isUsedInDetails}).map(function(t){return{text:"Show details for ".concat(t.name),onItemClick:function(){a.setState({rowSelected:e.row.data.name,colSelected:t.name})}}}))},a.calculateCustomSummary=function(e){if("Gross Margin %"===e.name)switch(e.summaryProcess){case"start":e.totalValue={marginE:0,income:0};break;case"calculate":e.value&&(e.totalValue.marginE+=e.value.marginE,e.totalValue.income+=e.value.income);break;case"finalize":e.totalValue=e.totalValue.income>0?e.totalValue.marginE/e.totalValue.income*100:0}else if("Net Margin %"===e.name)switch(e.summaryProcess){case"start":e.totalValue={marginE:0,income:0,vatE:0};break;case"calculate":e.value&&(e.totalValue.marginE+=e.value.marginE,e.totalValue.income+=e.value.income,e.totalValue.vatE+=e.value.vatE);break;case"finalize":e.totalValue=e.totalValue.income>0?(e.totalValue.marginE+e.totalValue.vatE)/e.totalValue.income*100:0}},a.closeDetailDialog=function(){a.setState({rowSelected:null,colSelected:null})},a.state={rowSelected:null,colSelected:null},a.socket=null,a.interval=null,a.token=null,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.company,t=JSON.parse(localStorage.getItem("user")||"{}");this.socket=Ca.a.connect(zt.a.apiUrl,{transports:["websocket"],query:{email:t.email}}),this.getTableData(e)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.interval),this.socket.disconnect()}},{key:"componentWillReceiveProps",value:function(e,t){if(this.props.company!==e.company&&(this.socket.removeAllListeners("margin_update_res"),clearTimeout(this.interval),this.getTableData(e.company),Ua.clear()),this.props.tableData!==e.tableData&&e.tableData){e.tableData.columns=e.tableData.columns.map(function(e){return Object(J.a)({},e,{key:e.name,name:e.name,type:e.type,format:Ha(e.type,e.name),hidden:["Customer","Supplier","Employee","Product/Service","Adj","AccID","Debit","Credit","Foreign Debit","Foreign Credit"].includes(e.name)})});var a=e.tableData.rows.map(function(t){return(t=Object.entries(t).reduce(function(t,a){var n=Object(_e.a)(a,2),r=n[0],o=n[1].value;return t[e.tableData.columns[r].key]=o,t},{})).grossMarginData={marginE:t["Gross Margin \xa3"],income:t.Income},t.netMarginData={marginE:t["Gross Margin \xa3"],income:t.Income,vatE:t["VAT \xa3"]},t});Ua.totalCount().done(function(e){for(var t=0;t<Math.max(a.length,e);t++)t<a.length?t<e?Ua.push([{type:"update",key:t,data:a[t]}]):Ua.push([{type:"insert",data:Object(J.a)({index:t},a[t])}]):t<e&&Ua.push([{type:"remove",key:t}])}).fail(function(e){console.error(e)})}}},{key:"shouldComponentUpdate",value:function(e,t,a){return this.props.isLoadingTable!==e.isLoadingTable||this.state!==t}},{key:"render",value:function(){var e=this.props,t=e.isLoadingTable,a=e.tableData,n=e.classes,o=e.company,i=this.state,l=i.rowSelected,c=i.colSelected;if(t)return r.a.createElement("div",{className:"load-spinner"},r.a.createElement(kt.a,{size:80,spinnerColor:"#333",spinnerWidth:2,className:n.showSpinner}));if(l&&c)return r.a.createElement(T.a,null,r.a.createElement(Ga,{onClose:this.closeDetailDialog,realmID:o.realmID,row:l,col:c}));var s=a.columns,u=s.filter(function(e){return!e.hidden}).map(function(e){return e.name});return r.a.createElement(T.a,null,r.a.createElement(Nt.a,{height:window.getGridHeight(),dataSource:La,repaintChangesOnly:!0,wordWrapEnabled:!0,defaultColumns:u,allowColumnReordering:!0,showBorders:!0,hoverStateEnabled:!0,selectedRowKeys:[l],selection:{mode:"single"},columnFixing:{enabled:!0},allowColumnResizing:!0,columnMinWidth:50,columnAutoWidth:!0,editing:{allowUpdating:Pa(),mode:"cell"},onContextMenuPreparing:this.onContextMenuPreparing},r.a.createElement(Tt.HeaderFilter,{visible:!0}),r.a.createElement(Tt.Export,{enabled:!0,fileName:"Margin Summary for ".concat(o.name),allowExportSelectedData:!0}),r.a.createElement(Tt.FilterRow,{visible:!0}),r.a.createElement(Tt.GroupPanel,{visible:!0}),r.a.createElement(Tt.StateStoring,{enabled:!0,type:"localStorage",storageKey:"storage"}),r.a.createElement(Tt.ColumnChooser,{enabled:!0,allowSearch:!0,mode:"select"}),r.a.createElement(Tt.SearchPanel,{visible:!0}),r.a.createElement(Tt.Scrolling,{mode:"virtual",useNative:!0}),r.a.createElement(Tt.Grouping,null),s.map(function(e){return r.a.createElement(Tt.Column,{key:e.name,dataField:e.name,dataType:e.type,visible:!e.hidden,allowEditing:!!e.id,format:za(e.type,e.name)})}),r.a.createElement(Tt.Summary,{calculateCustomSummary:this.calculateCustomSummary},r.a.createElement(Tt.GroupItem,{column:"Direct costs",summaryType:"sum",showInGroupFooter:!1,alignByColumn:!0,valueFormat:za("number","Base Amount")}),s.filter(function(e){return e.isUsedInDetails}).map(function(e){return r.a.createElement(Tt.GroupItem,{key:e.id,column:e.name,summaryType:"sum",showInGroupFooter:!1,alignByColumn:!0,valueFormat:za("number","Foreign Amount")})}),r.a.createElement(Tt.GroupItem,{column:"Gross Margin \xa3",summaryType:"sum",showInGroupFooter:!1,alignByColumn:!0,valueFormat:za("number","Base Amount")}),r.a.createElement(Tt.GroupItem,{name:"Gross Margin %",column:"grossMarginData",summaryType:"custom",showInGroupFooter:!1,alignByColumn:!0,showInColumn:"Gross Margin %",displayFormat:"Total: {0}",valueFormat:za("number","Gross Margin %")}),r.a.createElement(Tt.GroupItem,{column:"VAT \xa3",summaryType:"sum",showInGroupFooter:!1,alignByColumn:!0,valueFormat:za("number","Base Amount")}),r.a.createElement(Tt.GroupItem,{column:"Net Margin \xa3",summaryType:"sum",showInGroupFooter:!1,alignByColumn:!0,valueFormat:za("number","Foreign Amount")}),r.a.createElement(Tt.GroupItem,{name:"Net Margin %",column:"netMarginData",summaryType:"custom",showInGroupFooter:!1,alignByColumn:!0,showInColumn:"Net Margin %",displayFormat:"Total: {0}",valueFormat:za("number","Gross Margin %")}),s.filter(function(e){return e.isUsedInDetails}).map(function(e){return r.a.createElement(Tt.TotalItem,{key:e.id,column:e.name,summaryType:"sum",valueFormat:za("number","Foreign Amount")})}),r.a.createElement(Tt.TotalItem,{column:"Gross Margin \xa3",summaryType:"sum",valueFormat:za("number","Foreign Amount")}),r.a.createElement(Tt.TotalItem,{column:"VAT \xa3",summaryType:"sum",valueFormat:za("number","Foreign Amount")}),r.a.createElement(Tt.TotalItem,{name:"Gross Margin %",column:"grossMarginData",summaryType:"custom",showInColumn:"Gross Margin %",displayFormat:"Total: {0}",valueFormat:za("number","Gross Margin %")}),r.a.createElement(Tt.TotalItem,{column:"Net Margin \xa3",summaryType:"sum",valueFormat:za("number","Foreign Amount")}),r.a.createElement(Tt.TotalItem,{name:"Net Margin %",column:"netMarginData",summaryType:"custom",showInColumn:"Net Margin %",displayFormat:"Total: {0}",valueFormat:za("number","Gross Margin %")}))))}}]),t}(n.Component),Va=Object(ia.a)(ca,Object(J.a)({},fa.margins))(f()({showSpinner:{margin:"auto 0px"}})(Wa)),Ya=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).getConnects=function(){var e=a.props;(0,e.getCompanies)({user_id:e.auth.userProfile.sub}).then(function(e){var t=e.result.data,n=t.length?t[0]:null;a.setState({selectedConnect:n})}).catch(function(e){console.error(e)})},a.handleSelectedConnectionChange=function(e){a.state.selectedConnect!==e.target.value&&a.setState({selectedConnect:e.target.value})},a.state={selectedConnect:null},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getConnects()}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.isLoadingCompany,n=e.companies,o=this.state.selectedConnect,i=n.map(function(e){return r.a.createElement(I.a,{value:e,key:e.realmID},e.info.name)}),l=r.a.createElement(mt,null,r.a.createElement(pt,{xs:12,sm:12,md:12},r.a.createElement("div",{className:"load-spinner"},r.a.createElement(kt.a,{size:80,spinnerColor:"#333",spinnerWidth:2,className:t.showSpinner}))));return a||(l=r.a.createElement(mt,null,r.a.createElement(pt,{xs:12,sm:12,md:8},r.a.createElement(ht,null,r.a.createElement(xt,null,r.a.createElement(W.a,{className:t.formControl},r.a.createElement(V.a,{htmlFor:"age-simple"},"Company"),r.a.createElement(Vt.a,{value:this.state.selectedConnect,onChange:this.handleSelectedConnectionChange,inputProps:{name:"Company",id:"selected-connection"}},i))))),o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(pt,{xs:12,sm:12,md:12},r.a.createElement(ht,{plain:!0},r.a.createElement(bt,{plain:!0,color:"warning",xs:12,sm:12,md:12},r.a.createElement("h3",{className:"line-break"},"Margin Summary Report for ",o.info.name)))),r.a.createElement(pt,{xs:12,sm:12,md:12},r.a.createElement(Va,{company:o}))))),l}}]),t}(n.Component),qa=Object(ia.a)(ca,Object(J.a)({},fa.companies))(f()({showSpinner:{margin:"auto 0px"}})(Ya)),Ka=Object(Ot.a)(function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},formControl:{width:"90%"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:"100%"}}}),Qa=function(e,t){switch(e){case"date":return"dd/MM/yyyy";case"number":return function(e){if(["TranID","AccID"].includes(t))return null;var a=["Debit","Credit","Foreign Debit","Foreign Credit","Base Amount","Foreign Amount"].includes(t)?2:0,n=Math.abs(parseFloat(e)).toFixed(a).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return parseFloat(e)<0?"("+n+")":n};default:return null}},_a=function(e){var t=e.datainfo,a=t.columns,o=t.rows,i=t.rowIndexes,l=t.info,c=t.refreshColumns,s=t.createColumn,u=t.editColumn,m=t.deleteColumn,p=t.updateRow,d=t.customCellIndexes,h=Object(n.useState)({isOpened:!1,isNew:!1,name:"",type:"string",columnId:""}),g=Object(_e.a)(h,2),b=g[0],f=g[1],v=Object(n.useState)(!1),E=Object(_e.a)(v,2),w=E[0],y=E[1],C=function(){f(Object(J.a)({},b,{isOpened:!1}))},k=function(){var e=Object(Je.a)(Ke.a.mark(function e(){return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!b.isNew){e.next=8;break}return e.next=3,s({name:b.name,type:b.type});case 3:return f(Object(J.a)({},b,{isOpened:!1})),e.next=6,c();case 6:e.next=13;break;case 8:return e.next=10,u({id:b.columnId,name:b.name,type:b.type});case 10:return f(Object(J.a)({},b,{isOpened:!1})),e.next=13,c();case 13:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(Je.a)(Ke.a.mark(function e(){return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({id:b.columnId});case 2:return y(!1),e.next=5,c();case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),j=function(e){return function(t){f(Object(J.a)({},b,Object(x.a)({},e,t.target.value)))}},S=a.filter(function(e){return!e.hidden}).map(function(e){return e.name}),F=Ka();return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,null,r.a.createElement(Nt.a,{height:window.getGridHeight(),dataSource:o,wordWrapEnabled:!0,defaultColumns:S,allowColumnReordering:!0,showBorders:!0,columnFixing:{enabled:!0},allowColumnResizing:!0,columnMinWidth:50,columnAutoWidth:!0,onContextMenuPreparing:function(e){"header"===e.target&&(e.items||(e.items=[]),e.items=[{text:"Add column",onItemClick:function(){f({isOpened:!0,isNew:!0,name:"",type:"string"})}},{text:"Edit column",onItemClick:function(){var t=a.find(function(t){return t.name===e.column.dataField});f({isOpened:!0,isNew:!1,name:e.column.dataField,type:t.type,columnId:t.id})}},{text:"Remove column",onItemClick:function(){var t=a.find(function(t){return t.name===e.column.dataField});f(Object(J.a)({},b,{columnId:t.id})),y(!0)}}])},onRowUpdated:function(e){var t=e.data,n=o.indexOf(t),r=Object.values(t),l=a.map(function(e,t){return{id:d[i[n]][e.id],columnId:e.id,userId:i[n],value:r[t]}});p(l.filter(function(e){return!!e.columnId}))},editing:{allowUpdating:!0,mode:"cell"}},r.a.createElement(Tt.HeaderFilter,{visible:!0}),r.a.createElement(Tt.Export,{enabled:!0,fileName:l,allowExportSelectedData:!0}),r.a.createElement(Tt.FilterRow,{visible:!0}),r.a.createElement(Tt.GroupPanel,{visible:!0}),r.a.createElement(Tt.ColumnChooser,{enabled:!0,allowSearch:!0,mode:"select"}),r.a.createElement(Tt.SearchPanel,{visible:!0}),r.a.createElement(Tt.Scrolling,{mode:"virtual",useNative:!0}),r.a.createElement(Tt.Grouping,null),function(e){return e.map(function(e){return r.a.createElement(Tt.Column,{key:e.name,dataField:e.name,dataType:e.type,visible:!e.hidden,allowEditing:!!e.id,format:Qa(e.type,e.name)})})}(a),r.a.createElement(Tt.Summary,null,r.a.createElement(Tt.GroupItem,{column:"Base Amount",summaryType:"sum",showInGroupFooter:!1,alignByColumn:!0,valueFormat:Qa("number","Base Amount")}),r.a.createElement(Tt.GroupItem,{column:"Foreign Amount",summaryType:"sum",showInGroupFooter:!1,alignByColumn:!0,valueFormat:Qa("number","Foreign Amount")}),r.a.createElement(Tt.TotalItem,{column:"Base Amount",summaryType:"sum",valueFormat:Qa("number","Foreign Amount")}),r.a.createElement(Tt.TotalItem,{column:"Foreign Amount",summaryType:"sum",valueFormat:Qa("number","Foreign Amount")})))),r.a.createElement(It.a,{maxWidth:"sm",open:b.isOpened,onClose:C,"aria-labelledby":"form-dialog-title"},r.a.createElement(qt.a,{id:"form-dialog-title"},b.isNew?"Create a new column":"Edit a column"),r.a.createElement(At.a,{style:{height:180}},r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12},r.a.createElement(W.a,{className:F.formControl},r.a.createElement(Kt.a,{id:"standard-name",label:"Name",className:F.textField,value:b.name,onChange:j("name"),margin:"normal"}))),r.a.createElement(ut.a,{item:!0,xs:12},r.a.createElement(W.a,{className:F.formControl},r.a.createElement(V.a,{className:F.textField,htmlFor:"column-type"},"Type"),r.a.createElement(Vt.a,{className:F.textField,value:b.type,onChange:j("type"),inputProps:{name:"Type",id:"column-type"}},r.a.createElement(I.a,{value:"string"},"String"),r.a.createElement(I.a,{value:"number"},"Number"),r.a.createElement(I.a,{value:"date"},"Date"),r.a.createElement(I.a,{value:"boolean"},"Boolean"),r.a.createElement(I.a,{value:"datetime"},"Datetime"))))))),r.a.createElement(Yt.a,null,r.a.createElement(Oe.a,{onClick:C,color:"primary"},"Cancel"),r.a.createElement(Oe.a,{onClick:k,color:"primary"},b.isNew?"Create":"Save"))),r.a.createElement(It.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"xs","aria-labelledby":"confirmation-dialog-title",open:w},r.a.createElement(qt.a,{id:"confirmation-dialog-title"},"Are you sure?"),r.a.createElement(Yt.a,null,r.a.createElement(Oe.a,{onClick:function(){return y(!1)},color:"primary"},"Cancel"),r.a.createElement(Oe.a,{onClick:O,color:"primary"},"Ok"))))},Ja=Object(tt.extendMoment)(et.a),Za=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).onDateSelection=function(e,t){a.setState({daterange:e,states:t,datepkVisible:!a.state.datepkVisible})};var n=Ja();return a.state={selectedConnect:null,connects:[],info:null,datalist:null,spinnerVisible:!1,datepkVisible:!1,daterange:Ja.range(Ja().startOf("month").clone(),n.clone())},a.handleSelectedConnectionChange=a.handleSelectedConnectionChange.bind(Object(m.a)(a)),a.initialize=a.initialize.bind(Object(m.a)(a)),a.launchPopup=a.launchPopup.bind(Object(m.a)(a)),a.apicall=a.apicall.bind(Object(m.a)(a)),a.getConnects=a.getConnects.bind(Object(m.a)(a)),a.toggleDatePicker=a.toggleDatePicker.bind(Object(m.a)(a)),a.onDateSelection=a.onDateSelection.bind(Object(m.a)(a)),a.onEventMessage=a.onEventMessage.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"initialize",value:function(){this.setState(function(e){return Object(J.a)({},e,{info:null,datalist:null,spinnerVisible:!0})})}},{key:"toggleDatePicker",value:function(){this.setState(function(e){return Object(J.a)({},e,{datepkVisible:!e.datepkVisible})})}},{key:"launchPopup",value:function(e){var t="location=1,width=800,height=650";t+=",left="+(window.screen.width-800)/2+",top="+(window.screen.height-650)/2,window.open("".concat(zt.a.apiUrl).concat(e),"connectPopup",t),window.addEventListener("message",this.onEventMessage,!1)}},{key:"onEventMessage",value:function(e){e.origin===window.origin&&this.getConnects()}},{key:"apicall",value:function(){var e=Object(Je.a)(Ke.a.mark(function e(t){var a,n,r,o,i,l,c,s,u=this;return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.initialize(),a={headers:{Authorization:"Bearer ".concat(this.props.auth.accessToken)}},console.log("0000000000000000000000000000000000000"),e.next=5,Xe.a.get("".concat(zt.a.apiUrl,"/api/users"),a);case 5:n=e.sent,r=n.data,o=function(e,t){switch(e){case"date":return"dd/MM/yyyy";case"number":return function(e){if(["TranID","AccID"].includes(t))return null;var a=["Debit","Credit","Foreign Debit","Foreign Credit","Base Amount","Foreign Amount"].includes(t)?2:0,n=Math.abs(parseFloat(e)).toFixed(a).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return parseFloat(e)<0?"("+n+")":n};default:return null}},i=r.columns.map(function(e){return Object(J.a)({},e,{key:e.name,name:e.name,type:e.type,format:o(e.type,e.name),hidden:["Customer","Supplier","Employee","Product/Service","Adj","AccID","Debit","Credit","Foreign Debit","Foreign Credit"].includes(e.name)})}),l=function(e,t){return t},c=r.rows.map(function(e){return Object.entries(e).reduce(function(e,t){var a=Object(_e.a)(t,2),n=a[0],r=a[1].value;return e[i[n].key]=l(i[n].key,r),e},{})}),s=r.rowIndexes,null,this.setState(function(e){return Object(J.a)({},e,{spinnerVisible:!1,info:null,datalist:{rows:c,rowIndexes:s,columns:i,info:null,customCellIndexes:r.customCellIndexes,createColumn:function(){var e=Object(Je.a)(Ke.a.mark(function e(n){var r,o;return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.name,o=n.type,e.next=3,Xe.a.post("".concat(zt.a.apiUrl,"/api/users/columns"),{name:r,type:o,realmID:t},a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),editColumn:function(){var e=Object(Je.a)(Ke.a.mark(function e(n){var r,o,i;return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,o=n.name,i=n.type,e.next=3,Xe.a.put("".concat(zt.a.apiUrl,"/api/users/columns"),{id:r,name:o,type:i,realmID:t},a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),deleteColumn:function(){var e=Object(Je.a)(Ke.a.mark(function e(t){var n;return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,Xe.a.delete("".concat(zt.a.apiUrl,"/api/users/columns/").concat(n),a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),updateRow:function(){var e=Object(Je.a)(Ke.a.mark(function e(t){return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe.a.post("".concat(zt.a.apiUrl,"/api/users/rows"),t,a);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),refreshColumns:function(){var e=Object(Je.a)(Ke.a.mark(function e(){return Ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.apicall();case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}})});case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleSelectedConnectionChange",value:function(e){this.setState({selectedConnect:e.target.value}),this.apicall(e.target.value.realmID)}},{key:"getConnects",value:function(){this.apicall()}},{key:"componentDidMount",value:function(){this.getConnects()}},{key:"render",value:function(){var e=this.props.classes;this.state.connects.map(function(e){return r.a.createElement(I.a,{value:e,key:e.realmID},e.info.name)});return r.a.createElement("div",null,r.a.createElement(mt,null,this.state.spinnerVisible?r.a.createElement(pt,{xs:12,sm:12,md:12},r.a.createElement("div",{className:"load-spinner"},r.a.createElement(kt.a,{size:80,spinnerColor:"#333",spinnerWidth:2,className:e.showSpinner}))):null,this.state.datalist?r.a.createElement(pt,{xs:12,sm:12,md:12},r.a.createElement(_a,{datainfo:this.state.datalist})):null))}}]),t}(n.Component),Xa=f()({cardCategoryWhite:{"&,& a,& a:hover,& a:focus":{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},"& a,& a:hover,& a:focus":{color:"#FFFFFF"}},cardTitleGrey:{color:"#333333",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",fontSize:"1.5em","& small":{color:"#333333",fontSize:"100%",fontWeight:"400",lineHeight:"1"}},cardTitleBlue:{color:"#1212E3",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",fontSize:"1.5em","& small":{color:"#1212E3",fontSize:"100%",fontWeight:"400",lineHeight:"1"}},cardDataGrid:{fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",fontSize:"1.5em"},showSpinner:{margin:"auto 0px"},dateButton:{marginTop:"10px",display:"block"}})(Za),$a=function(e){return[{path:"/dashboard",name:"Dashboard",icon:z.a,component:Ye,isShow:e},{path:"/users",name:"Users",icon:Ve.a,component:Xa,isShow:!0},{path:"/connected",name:"Companies",icon:Ve.a,component:Wt,isShow:!0},{path:"/classes",name:"Class Mapping",icon:Ve.a,component:$t,isShow:e},{path:"/margins",name:"Margins Table",icon:Ve.a,component:qa,isShow:!0},{path:"/accounts",name:"Account Mapping",icon:Ve.a,component:oa,isShow:e}]},en=function(e){var t;return{wrapper:{position:"relative",top:"0",height:"100vh"},mainPanel:Object(J.a)((t={},Object(x.a)(t,e.breakpoints.up("md"),{width:"calc(100% - ".concat(260,"px)")}),Object(x.a)(t,"overflow","auto"),Object(x.a)(t,"position","relative"),Object(x.a)(t,"float","right"),t),X,{maxHeight:"100%",width:"100%",overflowScrolling:"touch"}),content:{marginTop:"70px",padding:"30px 15px",minHeight:"calc(100vh - 123px)"},container:$,map:{marginTop:"70px"}}},tn=a(445),an=a.n(tn),nn=a(446),rn=a.n(nn),on=function(e){var t=e.auth;return r.a.createElement(d.d,null,$a(Pa()).filter(function(e){return e.isShow}).map(function(e,a){return r.a.createElement(d.b,{exact:!0,path:e.path,render:function(a){return r.a.createElement(e.component,Object.assign({auth:t},a))},auth:t,key:a})}))},ln=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleImageClick=function(e){a.setState({image:e})},a.handleColorClick=function(e){a.setState({color:e})},a.handleDrawerToggle=function(){a.setState({mobileOpen:!a.state.mobileOpen})},a.resizeFunction=function(){window.innerWidth>=960&&a.setState({mobileOpen:!1})},a.handleLogout=function(){a.props.auth.logout()},a.state={image:an.a,color:"white",hasImage:!0,mobileOpen:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){if(navigator.platform.indexOf("Win")>-1)new g.a(this.refs.mainPanel);window.addEventListener("resize",this.resizeFunction)}},{key:"componentDidUpdate",value:function(e){e.history.location.pathname!==e.location.pathname&&(this.refs.mainPanel.scrollTop=0,this.state.mobileOpen&&this.setState({mobileOpen:!1}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeFunction)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=Object(h.a)(e,["classes"]);return r.a.createElement("div",{className:t.wrapper},r.a.createElement(Ue,Object.assign({routes:$a(Pa()).filter(function(e){return e.isShow}),logoText:"Smart Reports",logo:rn.a,image:this.state.image,handleDrawerToggle:this.handleDrawerToggle,open:this.state.mobileOpen,color:this.state.color},a)),r.a.createElement("div",{className:t.mainPanel,ref:"mainPanel"},r.a.createElement(Ne,Object.assign({routes:$a(Pa()).filter(function(e){return e.isShow}),handleDrawerToggle:this.handleDrawerToggle,handleLogout:this.handleLogout},a)),r.a.createElement("div",{className:t.content},r.a.createElement("div",{className:t.container},r.a.createElement(on,{auth:a.auth})))))}}]),t}(r.a.Component),cn=f()(en)(ln),sn=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleLogin=function(){localStorage.setItem("redirectTo",window.location.pathname),a.props.auth.login()},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(Oe.a,{style:{position:"absolute",top:"50%"},variant:"contained",color:"primary",onClick:this.handleLogin.bind(this)},"Login"))}}]),t}(n.Component);a(871);var un=function(e){window.opener.postMessage("redirect",window.origin),window.close()},mn=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){/access_token|id_token|error/.test(window.location.hash)&&this.props.auth.handleAuthentication()}},{key:"render",value:function(){return r.a.createElement("p",{style:{padding:"3em"}},"Loading...")}}]),t}(n.Component),pn=function(e){var t=e.component,a=e.authenticated,n=Object(h.a)(e,["component","authenticated"]);return r.a.createElement(d.b,Object.assign({},n,{render:function(e){return!0===a?r.a.createElement(t,Object.assign({},e,n)):r.a.createElement(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},dn=(a(805),a(806),a(807),a(808),a(447)),hn={domain:"smartreportz.eu.auth0.com",clientId:"T02IIKCXJHb2v50ylYOo3IhfHSDgsCyG",redirectUri:"http://localhost:3000/authcallback",audience:"https://www.smartreportz.com"},gn=function(){function e(t,a){Object(l.a)(this,e),this.auth0=new dn.a.WebAuth({domain:hn.domain,clientID:hn.clientId,redirectUri:hn.redirectUri,audience:hn.audience,responseType:"token id_token",scope:"openid profile email"}),console.log(hn),this.login=this.login.bind(this),this.logout=this.logout.bind(this),this.handleAuthentication=this.handleAuthentication.bind(this),this.isAuthenticated=this.isAuthenticated.bind(this),this.accessToken=t,this.userProfile=a,this.authorizedCallback=function(){},this.deauthorizedCallback=function(){}}return Object(c.a)(e,[{key:"login",value:function(){this.auth0.authorize()}},{key:"handleAuthentication",value:function(){var e=this;this.auth0.parseHash(function(t,a){a&&a.accessToken&&a.idToken?(localStorage.setItem("smartreport_accessToken",a.accessToken),e.getUserInfo(a)):t&&console.error(t)})}},{key:"getUserInfo",value:function(e){var t=this;this.auth0.client.userInfo(e.accessToken,function(a,n){a?console.error(a):t.setSession(e,n)})}},{key:"setSession",value:function(e,t){var a=JSON.stringify(1e3*e.expiresIn+(new Date).getTime());localStorage.setItem("expires_at",a),localStorage.setItem("user",JSON.stringify(e.idTokenPayload)),this.accessToken=e.accessToken,this.userProfile=e.idTokenPayload,this.authorizedCallback(this.isAuthenticated())}},{key:"logout",value:function(){this.auth0.logout({federated:!0}),localStorage.removeItem("expires_at"),this.accessToken=void 0,this.userProfile=void 0,this.deauthorizedCallback(this.isAuthenticated())}},{key:"isAuthenticated",value:function(){var e=JSON.parse(localStorage.getItem("expires_at"));return Date.now()<e&&void 0!==this.accessToken}}]),e}(),bn=function(e){function t(e){var a;Object(l.a)(this,t),a=Object(s.a)(this,Object(u.a)(t).call(this,e));var n=localStorage.getItem("smartreport_accessToken"),r=localStorage.getItem("user");return a.auth=new gn(n,r?JSON.parse(r):void 0),a.auth.authorizedCallback=a.authorized.bind(Object(m.a)(a)),a.auth.deauthorizedCallback=a.deauthorized.bind(Object(m.a)(a)),a.state=n&&r?{authenticated:!0}:{authenticated:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"authorized",value:function(e){this.setState({authenticated:e}),this.props.history.push("/")}},{key:"deauthorized",value:function(){localStorage.removeItem("smartreport_accessToken"),localStorage.removeItem("user"),this.setState({authenticated:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/login",render:function(t){return r.a.createElement(sn,Object.assign({auth:e.auth},t))}}),r.a.createElement(d.b,{path:"/authcallback",render:function(t){return r.a.createElement(mn,Object.assign({auth:e.auth},t))}}),r.a.createElement(d.b,{path:"/redirect",component:un}),r.a.createElement(pn,{authenticated:this.state.authenticated,auth:this.auth,path:"/",component:cn}),"}/>")}}]),t}(n.Component),fn=Object(d.g)(bn),xn=a(448),vn=a(449),En=Object(ma.d)(ba,Object(ma.a)(vn.a,function(e){var t=e.dispatch,a=e.getState;return function(e){return function(n){if("function"===typeof n)return n(t,a);var r=n[ua.CALL_API];if("undefined"===typeof r||!r.promise)return e(n);var o=r.promise,i=r.types,l=Object(h.a)(r,["promise","types"]),c=Object(_e.a)(i,3),s=c[0],u=c[1],m=c[2],p=localStorage.getItem("smartreport_accessToken");return e(Object(J.a)({},l,{type:s})),o(Xe.a.create(p?{headers:{Authorization:"Bearer ".concat(p)}}:{}),t).then(function(t){return e(Object(J.a)({},l,{result:t,type:u}))},function(t){var a=t.response;return!a||401!==a.status&&403!==a.status?(e(Object(J.a)({},l,{error:t,type:m})),Promise.reject(t)):window.location.href="".concat(window.location.origin,"/login")})}}}));i.a.render(r.a.createElement(xn.a,{store:En},r.a.createElement(Re.a,null,r.a.createElement(fn,null))),document.getElementById("root")),window.getGridHeight=function(){return document.querySelector("html").clientHeight-220+"px"},window.onresize=function(){var e=document.querySelector(".dx-datagrid.dx-gridbase-container");if(e){var t=window.getGridHeight();e.parentElement.style.height=t,console.log(t)}}}},[[460,1,2]]]);
//# sourceMappingURL=main.630e6e52.chunk.js.map